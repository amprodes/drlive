/*! Boxee DR Live TV/DR NU, v1.0.0 build: 2012-09-30 Copyright (c) 2012 Jakob Hilarius; */
function Title(e){function t(e){var t=1e5,n=-1;return n=e.indexOf(":"),n>0&&n<t&&(t=n),n=e.indexOf("("),n>0&&n<t&&(t=n),n=e.indexOf("["),n>0&&n<t&&(t=n),n=e.indexOf("-"),n>0&&n<t&&(t=n),t<1e5?e.substring(0,t):e}this.name=t(e)}function Image(){}function Channels(){this.channels=["dr1","dr2","ramasjang","drk","drupdate","drhd"]}function formatTimeComponent(e){return e<10&&(e="0"+e),e}function Watcher(){}function Epg(e){this.EPG_UPDATE_INTERVAL_IN_MILLIS=3e4,this.lastEpgUpdate=0,this.channels=new Channels,this.watcher=e}function Player(){this.activeItem={type:"channel",idx:0,channel:"dr1"},this.state={}}var defineBoxeeControlFunctions=function(){function e(e){version=e[0],boxee.apiMinVersion=version||7}function t(e){var t=e[0],n=e[1]||".",r=e[2]||2;boxee.showNotification(t,n,r)}function n(){boxee.setMode(boxee.CURSOR_MODE)}function r(){boxee.setMode(boxee.KEYBOARD_MODE)}function i(e){return url=e[0],boxee.getHttp(url)}function s(e){browser.execute("window."+boxee.browserCallback+"("+e+")")}function o(e){var t=e[0],n=e[1]||"";boxee.browserCallback=e[2],boxee.openDialog("YesNo",t,n,"openDialogCallback")}boxee.exec(e),boxee.exec(t),boxee.exec(n),boxee.exec(r),boxee.exec(i),boxee.exec(s),boxee.exec(o)};window.boxee?defineBoxeeControlFunctions():window.boxee={fake:!0,exec:function(e){console.log("boxee.exec : "+e)},exec2:function(e){return console.log("boxee.exec2 : "+e),""}},window.boxeeAPI={notify:function(e,t){t=t?t:2;var n=JSON.stringify([e,".",t]);boxee.exec("showNotification("+n+")")},closeBrowser:function(){boxee.exec("browser.shutdown()")},closeApp:function(){boxee.exec("browser.shutdown()")},showBoxeeOSD:function(){boxee.exec("boxee.showBoxeeOSD()")},getURL:function(e,t){return $.Deferred(function(n){var r=JSON.stringify([e]),i=boxee.exec2("getHttp("+r+")");setTimeout(function(){n.resolve(),t(i)},0)}).promise()},clearPauseOverlay:function(){boxee.exec("playerState.isPaused = false;")},showPauseOverlay:function(){boxee.exec("playerState.isPaused = true;")},keyboardMode:function(){boxee.exec("keyboardMode()")},cursorMode:function(){boxee.exec("cursorMode()")},showNotification:function(){var e=Array.prototype.slice.call(arguments),t=JSON.stringify(e);boxee.exec("showNotification("+t+")")},promptDialog:function(e,t,n){if(typeof n=="function"){boxee.promptDialogCallback=function(e){n(e)};var r=JSON.stringify([e,t,"boxee.promptDialogCallback"]);boxee.exec("promptDialog("+r+")")}else if(typeof n=="string"){var i=Array.prototype.slice.call(arguments),r=JSON.stringify(i);boxee.exec("promptDialog("+r+")")}}},$(window).unload(function(){boxee.clearPauseOverlay()}),function(e){e.cookie=function(t,n,r){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||n===null||n===undefined)){r=e.extend({},r);if(n===null||n===undefined)r.expires=-1;if(typeof r.expires=="number"){var i=r.expires,s=r.expires=new Date;s.setDate(s.getDate()+i)}return n=String(n),document.cookie=[encodeURIComponent(t),"=",r.raw?n:encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=n||{};var o=r.raw?function(e){return e}:decodeURIComponent,u=document.cookie.split("; ");for(var a=0,f;f=u[a]&&u[a].split("=");a++)if(o(f[0])===t)return o(f[1]||"");return null}}(jQuery);if(typeof jwplayer=="undefined"){var jwplayer=function(e){if(jwplayer.api)return jwplayer.api.selectPlayer(e)},$jw=jwplayer;jwplayer.version="5.6.1768",function(e){function t(e){if(e===null)return;var t=e.indexOf("://"),n=e.indexOf("?");return t>0&&(n<0||n>t)}e.utils=function(){},e.utils.typeOf=function(e){var t=typeof e;return t==="object"&&(e?e instanceof Array&&(t="array"):t="null"),t},e.utils.extend=function(){var t=e.utils.extend.arguments;if(t.length>1){for(var n=1;n<t.length;n++)for(var r in t[n])t[0][r]=t[n][r];return t[0]}return null},e.utils.clone=function(t){var n,r=e.utils.clone.arguments;if(r.length==1)switch(e.utils.typeOf(r[0])){case"object":n={};for(var i in r[0])n[i]=e.utils.clone(r[0][i]);break;case"array":n=[];for(var i in r[0])n[i]=e.utils.clone(r[0][i]);break;default:return r[0]}return n},e.utils.extension=function(e){e=e.substring(e.lastIndexOf("/")+1,e.length),e=e.split("?")[0];if(e.lastIndexOf(".")>-1)return e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase();return},e.utils.html=function(e,t){e.innerHTML=t},e.utils.wrap=function(e,t){e.parentNode.replaceChild(t,e),t.appendChild(e)},e.utils.ajax=function(e,t,n){var r;window.XMLHttpRequest?r=new XMLHttpRequest:r=new ActiveXObject("Microsoft.XMLHTTP"),r.onreadystatechange=function(){r.readyState===4&&(r.status===200?t&&t(r):n&&n(e))};try{r.open("GET",e,!0),r.send(null)}catch(i){n&&n(e)}return r},e.utils.load=function(e,t,n){e.onreadystatechange=function(){e.readyState===4&&(e.status===200?t&&t():n&&n())}},e.utils.find=function(e,t){return e.getElementsByTagName(t)},e.utils.append=function(e,t){e.appendChild(t)},e.utils.isIE=function(){return typeof window.ActiveXObject!="undefined"},e.utils.isLegacyAndroid=function(){var e=navigator.userAgent.toLowerCase();return e.match(/android 2.[012]/i)!==null},e.utils.isIOS=function(){var e=navigator.userAgent.toLowerCase();return e.match(/iP(hone|ad)/i)!==null},e.utils.getFirstPlaylistItemFromConfig=function(e){var t={},n;return e.playlist&&e.playlist.length?n=e.playlist[0]:n=e,t.file=n.file,t.levels=n.levels,t.streamer=n.streamer,t.playlistfile=n.playlistfile,t.provider=n.provider,t.provider||(t.file&&(t.file.toLowerCase().indexOf("youtube.com")>-1||t.file.toLowerCase().indexOf("youtu.be")>-1)&&(t.provider="youtube"),t.streamer&&t.streamer.toLowerCase().indexOf("rtmp://")==0&&(t.provider="rtmp"),n.type&&(t.provider=n.type.toLowerCase())),t},e.utils.getOuterHTML=function(e){if(e.outerHTML)return e.outerHTML;var t=e.parentNode,n=document.createElement(t.tagName),r=document.createElement(e.tagName);t.replaceChild(r,e),n.appendChild(e);var i=n.innerHTML;return t.replaceChild(e,r),i},e.utils.setOuterHTML=function(e,t){if(e.outerHTML)e.outerHTML=t;else{var n=document.createElement("div");n.innerHTML=t;var r=document.createRange();r.selectNodeContents(n);var i=r.extractContents();e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e)}},e.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined")return!0;if(typeof window.ActiveXObject!="undefined")try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){}return!1},e.utils.getPluginName=function(e){return e.lastIndexOf("/")>=0&&(e=e.substring(e.lastIndexOf("/")+1,e.length)),e.lastIndexOf("-")>=0&&(e=e.substring(0,e.lastIndexOf("-"))),e.lastIndexOf(".swf")>=0&&(e=e.substring(0,e.lastIndexOf(".swf"))),e.lastIndexOf(".js")>=0&&(e=e.substring(0,e.lastIndexOf(".js"))),e},e.utils.getPluginVersion=function(e){return e.lastIndexOf("-")>=0?e.lastIndexOf(".js")>=0?e.substring(e.lastIndexOf("-")+1,e.lastIndexOf(".js")):e.lastIndexOf(".swf")>=0?e.substring(e.lastIndexOf("-")+1,e.lastIndexOf(".swf")):e.substring(e.lastIndexOf("-")+1):""},e.utils.getAbsolutePath=function(e,n){n===undefined&&(n=document.location.href);if(e===undefined)return undefined;if(t(e))return e;var r=n.substring(0,n.indexOf("://")+3),i=n.substring(r.length,n.indexOf("/",r.length+1)),s;if(e.indexOf("/")===0)s=e.split("/");else{var o=n.split("?")[0];o=o.substring(r.length+i.length+1,o.lastIndexOf("/")),s=o.split("/").concat(e.split("/"))}var u=[];for(var f=0;f<s.length;f++){if(!s[f]||s[f]===undefined||s[f]==".")continue;s[f]==".."?u.pop():u.push(s[f])}return r+i+"/"+u.join("/")},e.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"},e.utils.getPluginPathType=function(t){if(typeof t!="string")return;t=t.split("?")[0];var n=t.indexOf("://");if(n>0)return e.utils.pluginPathType.ABSOLUTE;var r=t.indexOf("/"),i=e.utils.extension(t);return n<0&&r<0&&(!i||!isNaN(i))?e.utils.pluginPathType.CDN:e.utils.pluginPathType.RELATIVE},e.utils.mapEmpty=function(e){for(var t in e)return!1;return!0},e.utils.mapLength=function(e){var t=0;for(var n in e)t++;return t},e.utils.log=function(e,t){typeof console!="undefined"&&typeof console.log!="undefined"&&(t?console.log(e,t):console.log(e))},e.utils.css=function(t,n,r){if(t!==undefined)for(var i in n)try{if(typeof n[i]=="undefined")continue;if(typeof n[i]=="number"&&i!="zIndex"&&i!="opacity"){if(isNaN(n[i]))continue;i.match(/color/i)?n[i]="#"+e.utils.strings.pad(n[i].toString(16),6):n[i]=Math.ceil(n[i])+"px"}t.style[i]=n[i]}catch(s){}},e.utils.isYouTube=function(e){return e.indexOf("youtube.com")>-1||e.indexOf("youtu.be")>-1},e.utils.transform=function(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.OTransform=t},e.utils.stretch=function(t,n,r,i,s,o){if(typeof r=="undefined"||typeof i=="undefined"||typeof s=="undefined"||typeof o=="undefined")return;var u=r/s,a=i/o,f=0,l=0;n.style.overflow="hidden",e.utils.transform(n,"");var c={};switch(t.toUpperCase()){case e.utils.stretching.NONE:c.width=s,c.height=o;break;case e.utils.stretching.UNIFORM:u>a?(c.width=s*a,c.height=o*a):(c.width=s*u,c.height=o*u);break;case e.utils.stretching.FILL:u>a?(c.width=s*u,c.height=o*u):(c.width=s*a,c.height=o*a);break;case e.utils.stretching.EXACTFIT:e.utils.transform(n,["scale(",u,",",a,")"," translate(0px,0px)"].join("")),c.width=s,c.height=o;break;default:}c.top=(i-c.height)/2,c.left=(r-c.width)/2,e.utils.css(n,c)},e.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"},e.utils.deepReplaceKeyName=function(t,n,r){switch(e.utils.typeOf(t)){case"array":for(var i=0;i<t.length;i++)t[i]=e.utils.deepReplaceKeyName(t[i],n,r);break;case"object":for(var s in t){var o=s.replace(new RegExp(n,"g"),r);t[o]=e.utils.deepReplaceKeyName(t[s],n,r),s!=o&&delete t[s]}}return t},e.utils.isInArray=function(e,t){if(!!e&&e instanceof Array){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}return!1}}(jwplayer),function(e){e.events=function(){},e.events.COMPLETE="COMPLETE",e.events.ERROR="ERROR"}(jwplayer),function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug,_listeners,_globallisteners;this.resetEventListeners=function(){_listeners={},_globallisteners=[]},this.resetEventListeners(),this.addEventListener=function(type,listener,count){try{_listeners[type]===undefined&&(_listeners[type]=[]),typeof listener=="string"&&eval("listener = "+listener),_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return!1},this.removeEventListener=function(e,t){try{for(var n=0;n<_listeners[e].length;n++)if(_listeners[e][lisenterIndex].toString()==t.toString()){_listeners[e].slice(lisenterIndex,lisenterIndex+1);break}}catch(r){jwplayer.utils.log("error",r)}return!1},this.addGlobalListener=function(listener,count){try{typeof listener=="string"&&eval("listener = "+listener),_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return!1},this.removeGlobalListener=function(e){try{for(var t=0;t<_globallisteners.length;t++)if(_globallisteners[t].toString()==e.toString()){_globallisteners.slice(t,t+1);break}}catch(n){jwplayer.utils.log("error",n)}return!1},this.sendEvent=function(e,t){t===undefined&&(t={}),_debug&&jwplayer.utils.log(e,t);if(typeof _listeners[e]!="undefined")for(var n=0;n<_listeners[e].length;n++){try{_listeners[e][n].listener(t)}catch(r){jwplayer.utils.log("There was an error while handling a listener: "+r.toString(),_listeners[e][n].listener)}_listeners[e][n]&&(_listeners[e][n].count===1?delete _listeners[e][n]:_listeners[e][n].count>0&&(_listeners[e][n].count=_listeners[e][n].count-1))}for(var i=0;i<_globallisteners.length;i++){try{_globallisteners[i].listener(t)}catch(r){jwplayer.utils.log("There was an error while handling a listener: "+r.toString(),_globallisteners[i].listener)}_globallisteners[i]&&(_globallisteners[i].count===1?delete _globallisteners[i]:_globallisteners[i].count>0&&(_globallisteners[i].count=_globallisteners[i].count-1))}}}}(jwplayer),function(e){var t={};e.utils.animations=function(){},e.utils.animations.transform=function(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.OTransform=t,e.style.msTransform=t},e.utils.animations.transformOrigin=function(e,t){e.style.webkitTransformOrigin=t,e.style.MozTransformOrigin=t,e.style.OTransformOrigin=t,e.style.msTransformOrigin=t},e.utils.animations.rotate=function(t,n){e.utils.animations.transform(t,["rotate(",n,"deg)"].join(""))},e.utils.cancelAnimation=function(e){delete t[e.id]},e.utils.fadeTo=function(n,r,i,s,o,u){if(t[n.id]!=u&&u!==undefined)return;var f=(new Date).getTime();u>f&&setTimeout(function(){e.utils.fadeTo(n,r,i,s,0,u)},u-f),n.style.display="block",s===undefined&&(s=n.style.opacity===""?1:n.style.opacity);if(n.style.opacity==r&&n.style.opacity!==""&&u!==undefined){r===0&&(n.style.display="none");return}u===undefined&&(u=f,t[n.id]=u),o===undefined&&(o=0);var l=(f-u)/(i*1e3);l=l>1?1:l;var c=r-s,h=s+l*c;h>1?h=1:h<0&&(h=0),n.style.opacity=h;if(o>0){t[n.id]=u+o*1e3,e.utils.fadeTo(n,r,i,s,0,t[n.id]);return}setTimeout(function(){e.utils.fadeTo(n,r,i,s,0,u)},10)}}(jwplayer),function(e){e.utils.arrays=function(){},e.utils.arrays.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},e.utils.arrays.remove=function(t,n){var r=e.utils.arrays.indexOf(t,n);r>-1&&t.splice(r,1)}}(jwplayer),function(e){e.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}}(jwplayer),function(e){function r(n,r){return r===undefined?r=t[n]:e.utils.extend(r,t[n]),r}function i(e,t){if(n[e.tagName.toLowerCase()]&&t===undefined)return n[e.tagName.toLowerCase()](e);t=r("element",t);var i={};for(var s in t)if(s!="length"){var o=e.getAttribute(s);o!==""&&o!==undefined&&o!==null&&(i[t[s]]=e.getAttribute(s))}var u=e.style["#background-color"];return u&&u!="transparent"&&u!="rgba(0, 0, 0, 0)"&&(i.screencolor=u),i}function s(t,n){n=r("media",n);var s=[],u=e.utils.selectors("source",t);for(var f in u)isNaN(f)||s.push(o(u[f]));var l=i(t,n);return l.file!==undefined&&(s[0]={file:l.file}),l.levels=s,l}function o(e,t){t=r("source",t);var n=i(e,t);return n.width=n.width?n.width:0,n.bitrate=n.bitrate?n.bitrate:0,n}function u(e,t){t=r("video",t);var n=s(e,t);return n}e.utils.mediaparser=function(){};var t={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}},n={};e.utils.mediaparser.parseMedia=function(e){return i(e)},n.media=s,n.audio=s,n.source=o,n.video=u}(jwplayer),function(e){e.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"},e.utils.scriptloader=function(t){var n=e.utils.loaderstatus.NEW,r=new e.events.eventdispatcher;e.utils.extend(this,r),this.load=function(){if(n==e.utils.loaderstatus.NEW){n=e.utils.loaderstatus.LOADING;var i=document.createElement("script");i.onload=function(t){n=e.utils.loaderstatus.COMPLETE,r.sendEvent(e.events.COMPLETE)},i.onerror=function(t){n=e.utils.loaderstatus.ERROR,r.sendEvent(e.events.ERROR)},i.onreadystatechange=function(){if(i.readyState=="loaded"||i.readyState=="complete")n=e.utils.loaderstatus.COMPLETE,r.sendEvent(e.events.COMPLETE)},document.getElementsByTagName("head")[0].appendChild(i),i.src=t}},this.getStatus=function(){return n}}}(jwplayer),function(e){e.utils.selectors=function(t,n){n===undefined&&(n=document),t=e.utils.strings.trim(t);var r=t.charAt(0);return r=="#"?n.getElementById(t.substr(1)):r=="."?n.getElementsByClassName?n.getElementsByClassName(t.substr(1)):e.utils.selectors.getElementsByTagAndClass("*",t.substr(1)):t.indexOf(".")>0?(selectors=t.split("."),e.utils.selectors.getElementsByTagAndClass(selectors[0],selectors[1])):n.getElementsByTagName(t)},e.utils.selectors.getElementsByTagAndClass=function(e,t,n){elements=[],n===undefined&&(n=document);var r=n.getElementsByTagName(e);for(var i=0;i<r.length;i++)if(r[i].className!==undefined){var s=r[i].className.split(" ");for(var o=0;o<s.length;o++)s[o]==t&&elements.push(r[i])}return elements}}(jwplayer),function(e){e.utils.strings=function(){},e.utils.strings.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},e.utils.strings.pad=function(e,t,n){n||(n="0");while(e.length<t)e=n+e;return e},e.utils.strings.serialize=function(e){return e==null?null:e=="true"?!0:e=="false"?!1:isNaN(Number(e))||e.length>5||e.length==0?e:Number(e)},e.utils.strings.seconds=function(e){e=e.replace(",",".");var t=e.split(":"),n=0;return e.substr(-1)=="s"?n=Number(e.substr(0,e.length-1)):e.substr(-1)=="m"?n=Number(e.substr(0,e.length-1))*60:e.substr(-1)=="h"?n=Number(e.substr(0,e.length-1))*3600:t.length>1?(n=Number(t[t.length-1]),n+=Number(t[t.length-2])*60,t.length==3&&(n+=Number(t[t.length-3])*3600)):n=Number(e),n},e.utils.strings.xmlAttribute=function(e,t){for(var n in e.attributes)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()==t.toLowerCase())return e.attributes[n].value.toString();return""},e.utils.strings.jsonToString=function(t){var n=n||{};if(n&&n.stringify)return n.stringify(t);var r=typeof t;if(r=="object"&&t!==null){var i=[],s=t&&t.constructor==Array;for(var o in t){var u=t[o];switch(typeof u){case"string":u='"'+u+'"';break;case"object":u!==null&&(u=e.utils.strings.jsonToString(u))}s?typeof u!="function"&&i.push(String(u)):typeof u!="function"&&i.push('"'+o+'":'+String(u))}return s?"["+String(i)+"]":"{"+String(i)+"}"}if(r!="string")return String(t);t='"'+t+'"'}}(jwplayer),function(e){function n(e){var n=["true","false","t","f"];return n.toString().indexOf(e.toLowerCase().replace(" ",""))>=0?"boolean":t.test(e)?"color":!isNaN(parseInt(e,10))&&parseInt(e,10).toString().length==e.length?"integer":!isNaN(parseFloat(e))&&parseFloat(e).toString().length==e.length?"float":"string"}function r(e,t){if(t===null)return e;switch(t){case"color":if(e.length>0)return i(e);return null;case"integer":return parseInt(e,10);case"float":return parseFloat(e);case"boolean":if(e.toLowerCase()=="true")return!0;if(e=="1")return!0;return!1}return e}function i(e){switch(e.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:return e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),e.length==3&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}return parseInt("000000",16)}var t=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);e.utils.typechecker=function(e,t){return t=t===null?n(e):t,r(e,t)}}(jwplayer),function(e){var t={},n={};e.plugins=function(){},e.plugins.loadPlugins=function(r,i){return n[r]=new e.plugins.pluginloader(new e.plugins.model(t),i),n[r]},e.plugins.registerPlugin=function(r,i,s){var o=e.utils.getPluginName(r);if(t[o])t[o].registerPlugin(r,i,s);else{e.utils.log("A plugin ("+r+") was registered with the player that was not loaded. Please check your configuration.");for(var u in n)n[u].pluginFailed()}}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(n){var r=e.utils.getPluginName(n);return t[r]||(t[r]=new e.plugins.plugin(n)),t[r]}}}(jwplayer),function(e){e.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"},e.plugins.plugin=function(t){function f(){switch(e.utils.getPluginPathType(t)){case e.utils.pluginPathType.ABSOLUTE:return t;case e.utils.pluginPathType.RELATIVE:return e.utils.getAbsolutePath(t,window.location.href);case e.utils.pluginPathType.CDN:var r=e.utils.getPluginName(t),i=e.utils.getPluginVersion(t);return n+"/"+e.version.split(".")[0]+"/"+r+"/"+r+(i!==""?"-"+i:"")+".js"}}function l(t){o=setTimeout(function(){r=e.utils.loaderstatus.COMPLETE,u.sendEvent(e.events.COMPLETE)},1e3)}function c(t){r=e.utils.loaderstatus.ERROR,u.sendEvent(e.events.ERROR)}var n="http://plugins.longtailvideo.com",r=e.utils.loaderstatus.NEW,i,s,o,u=new e.events.eventdispatcher;e.utils.extend(this,u),this.load=function(){if(r==e.utils.loaderstatus.NEW){if(t.lastIndexOf(".swf")>0){i=t,r=e.utils.loaderstatus.COMPLETE,u.sendEvent(e.events.COMPLETE);return}r=e.utils.loaderstatus.LOADING;var n=new e.utils.scriptloader(f());n.addEventListener(e.events.COMPLETE,l),n.addEventListener(e.events.ERROR,c),n.load()}},this.registerPlugin=function(t,n,f){o&&(clearTimeout(o),o=undefined),n&&f?(i=f,s=n):typeof n=="string"?i=n:typeof n=="function"?s=n:!n&&!f&&(i=t),r=e.utils.loaderstatus.COMPLETE,u.sendEvent(e.events.COMPLETE)},this.getStatus=function(){return r},this.getPluginName=function(){return e.utils.getPluginName(t)},this.getFlashPath=function(){if(i)switch(e.utils.getPluginPathType(i)){case e.utils.pluginPathType.ABSOLUTE:return i;case e.utils.pluginPathType.RELATIVE:if(t.lastIndexOf(".swf")>0)return e.utils.getAbsolutePath(i,window.location.href);return e.utils.getAbsolutePath(i,f());case e.utils.pluginPathType.CDN:if(i.indexOf("-")>-1)return i+"h";return i+"-h"}return null},this.getJS=function(){return s},this.getPluginmode=function(){if(typeof i!="undefined"&&typeof s!="undefined")return e.plugins.pluginmodes.HYBRID;if(typeof i!="undefined")return e.plugins.pluginmodes.FLASH;if(typeof s!="undefined")return e.plugins.pluginmodes.JAVASCRIPT},this.getNewInstance=function(e,t,n){return new s(e,t,n)},this.getURL=function(){return t}}}(jwplayer),function(e){e.plugins.pluginloader=function(t,n){function f(){o||(o=!0,i=e.utils.loaderstatus.COMPLETE,u.sendEvent(e.events.COMPLETE))}function l(){if(!o){var t=0;for(plugin in r){var n=r[plugin].getStatus();(n==e.utils.loaderstatus.LOADING||n==e.utils.loaderstatus.NEW)&&t++}t==0&&f()}}var r={},i=e.utils.loaderstatus.NEW,s=!1,o=!1,u=new e.events.eventdispatcher;e.utils.extend(this,u),this.setupPlugins=function(e,t,n){var i={length:0,plugins:{}},s={length:0,plugins:{}};for(var o in r){var u=r[o].getPluginName();r[o].getFlashPath()&&(i.plugins[r[o].getFlashPath()]=t.plugins[o],i.plugins[r[o].getFlashPath()].pluginmode=r[o].getPluginmode(),i.length++);if(r[o].getJS()){var a=document.createElement("div");a.id=e.id+"_"+u,a.style.position="absolute",a.style.zIndex=s.length+10,s.plugins[u]=r[o].getNewInstance(e,t.plugins[o],a),s.length++,typeof s.plugins[u].resize!="undefined"&&(e.onReady(n(s.plugins[u],a,!0)),e.onResize(n(s.plugins[u],a)))}}return e.plugins=s.plugins,i},this.load=function(){i=e.utils.loaderstatus.LOADING,s=!0;for(var o in n)r[o]=t.addPlugin(o),r[o].addEventListener(e.events.COMPLETE,l),r[o].addEventListener(e.events.ERROR,l);for(o in n)r[o].load();s=!1,l()},this.pluginFailed=function(){f()},this.getStatus=function(){return i}}}(jwplayer),function(e){var t=[];e.api=function(t){function c(e){return function(t,n,r,i){var o;n?(l[t]=n,o="jwplayer('"+e+"').callback('"+t+"')"):!n&&l[t]&&delete l[t],s.jwDockSetButton(t,o,r,i)}}function h(e){return function(t){var n=t.newstate,i=t.oldstate;if(n==e){var s=r[n];if(s)for(var o=0;o<s.length;o++)typeof s[o]=="function"&&s[o].call(this,{oldstate:i,newstate:n})}}}function p(t,n){var r=e.utils.extend({},n);t==e.api.events.JWPLAYER_FULLSCREEN&&!r.fullscreen?(r.fullscreen=r.message=="true"?!0:!1,delete r.message):typeof r.data=="object"&&(r=e.utils.extend(r,r.data),delete r.data);var i=["position","duration","offset"];for(var s in i)r[i[s]]&&(r[i[s]]=Math.round(r[i[s]]*1e3)/1e3);return r}function d(e,t,n){var r=[];t||(t=0),n||(n=e.length-1);for(var i=t;i<=n;i++)r.push(e[i]);return r}this.container=t,this.id=t.id;var n={},r={},i=[],s=undefined,o=!1,u=[],a=e.utils.getOuterHTML(t),f={},l={};return this.getBuffer=function(){return this.callInternal("jwGetBuffer")},this.getContainer=function(){return this.container},this.getPlugin=function(e){var t=this.callInternal;return e=="dock"?{setButton:c(this.id),show:function(){return t("jwShowDock")},hide:function(){return t("jwHideDock")}}:e=="controlbar"?{show:function(){return t("jwShowControlbar")},hide:function(){return t("jwHideControlbar")}}:e=="display"?{show:function(){return t("jwShowDisplay")},hide:function(){return t("jwHideDisplay")}}:this.plugins[e]},this.callback=function(e){if(l[e])return l[e]()},this.getDuration=function(){return this.callInternal("jwGetDuration")},this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")},this.getHeight=function(){return this.callInternal("jwGetHeight")},this.getLockState=function(){return this.callInternal("jwGetLockState")},this.getMeta=function(){return this.getItemMeta()},this.getMute=function(){return this.callInternal("jwGetMute")},this.getPlaylist=function(){var t=this.callInternal("jwGetPlaylist");this.renderingMode=="flash"&&e.utils.deepReplaceKeyName(t,"__dot__",".");for(var n=0;n<t.length;n++)t[n].index===undefined&&(t[n].index=n);return t},this.getPlaylistItem=function(e){return e===undefined&&(e=this.getCurrentItem()),this.getPlaylist()[e]},this.getPosition=function(){return this.callInternal("jwGetPosition")},this.getRenderingMode=function(){return this.renderingMode},this.getState=function(){return this.callInternal("jwGetState")},this.getVolume=function(){return this.callInternal("jwGetVolume")},this.getWidth=function(){return this.callInternal("jwGetWidth")},this.setFullscreen=function(e){return e===undefined?this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen")):this.callInternal("jwSetFullscreen",e),this},this.setMute=function(e){return e===undefined?this.callInternal("jwSetMute",!this.callInternal("jwGetMute")):this.callInternal("jwSetMute",e),this},this.lock=function(){return this},this.unlock=function(){return this},this.load=function(e){return this.callInternal("jwLoad",e),this},this.playlistItem=function(e){return this.callInternal("jwPlaylistItem",e),this},this.playlistPrev=function(){return this.callInternal("jwPlaylistPrev"),this},this.playlistNext=function(){return this.callInternal("jwPlaylistNext"),this},this.resize=function(e,t){return this.renderingMode=="html5"?s.jwResize(e,t):(this.container.width=e,this.container.height=t),this},this.play=function(t){return typeof t=="undefined"?(t=this.getState(),t==e.api.events.state.PLAYING||t==e.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPlay",t),this},this.pause=function(t){return typeof t=="undefined"?(t=this.getState(),t==e.api.events.state.PLAYING||t==e.api.events.state.BUFFERING?this.callInternal("jwPause"):this.callInternal("jwPlay")):this.callInternal("jwPause",t),this},this.stop=function(){return this.callInternal("jwStop"),this},this.seek=function(e){return this.callInternal("jwSeek",e),this},this.setVolume=function(e){return this.callInternal("jwSetVolume",e),this},this.onBufferChange=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_BUFFER,t)},this.onBufferFull=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL,t)},this.onError=function(t){return this.eventListener(e.api.events.JWPLAYER_ERROR,t)},this.onFullscreen=function(t){return this.eventListener(e.api.events.JWPLAYER_FULLSCREEN,t)},this.onMeta=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_META,t)},this.onMute=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_MUTE,t)},this.onPlaylist=function(t){return this.eventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,t)},this.onPlaylistItem=function(t){return this.eventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,t)},this.onReady=function(t){return this.eventListener(e.api.events.API_READY,t)},this.onResize=function(t){return this.eventListener(e.api.events.JWPLAYER_RESIZE,t)},this.onComplete=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_COMPLETE,t)},this.onSeek=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_SEEK,t)},this.onTime=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_TIME,t)},this.onVolume=function(t){return this.eventListener(e.api.events.JWPLAYER_MEDIA_VOLUME,t)},this.onBuffer=function(t){return this.stateListener(e.api.events.state.BUFFERING,t)},this.onPause=function(t){return this.stateListener(e.api.events.state.PAUSED,t)},this.onPlay=function(t){return this.stateListener(e.api.events.state.PLAYING,t)},this.onIdle=function(t){return this.stateListener(e.api.events.state.IDLE,t)},this.remove=function(){n={},u=[],e.utils.getOuterHTML(this.container)!=a&&e.api.destroyPlayer(this.id,a)},this.setup=function(t){if(e.embed){var n=this.id;this.remove();var r=e(n);return r.config=t,new e.embed(r)}return this},this.registerPlugin=function(t,n,r){e.plugins.registerPlugin(t,n,r)},this.setPlayer=function(e,t){s=e,this.renderingMode=t},this.stateListener=function(t,n){return r[t]||(r[t]=[],this.eventListener(e.api.events.JWPLAYER_PLAYER_STATE,h(t))),r[t].push(n),this},this.addInternalListener=function(e,t){e.jwAddEventListener(t,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+t+'", dat); }')},this.eventListener=function(e,t){return n[e]||(n[e]=[],s&&o&&this.addInternalListener(s,e)),n[e].push(t),this},this.dispatchEvent=function(e){if(n[e]){var t=p(e,arguments[1]);for(var r=0;r<n[e].length;r++)typeof n[e][r]=="function"&&n[e][r].call(this,t)}},this.callInternal=function(e,t){if(o)return typeof s!="undefined"&&typeof s[e]=="function"?t!==undefined?s[e](t):s[e]():null;u.push({method:e,parameters:t})},this.playerReady=function(t){o=!0,s||this.setPlayer(document.getElementById(t.id)),this.container=document.getElementById(this.id);for(var r in n)this.addInternalListener(s,r);this.eventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,function(e){f={}}),this.eventListener(e.api.events.JWPLAYER_MEDIA_META,function(t){e.utils.extend(f,t.metadata)}),this.dispatchEvent(e.api.events.API_READY);while(u.length>0){var i=u.shift();this.callInternal(i.method,i.parameters)}},this.getItemMeta=function(){return f},this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")},this},e.api.selectPlayer=function(t){var n;t===undefined&&(t=0),t.nodeType?n=t:typeof t=="string"&&(n=document.getElementById(t));if(n){var r=e.api.playerById(n.id);return r?r:e.api.addPlayer(new e.api(n))}return typeof t=="number"?e.getPlayers()[t]:null},e.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem"},e.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},e.api.playerById=function(e){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n];return null},e.api.addPlayer=function(e){for(var n=0;n<t.length;n++)if(t[n]==e)return e;return t.push(e),e},e.api.destroyPlayer=function(n,r){var i=-1;for(var s=0;s<t.length;s++)if(t[s].id==n){i=s;continue}if(i>=0){var o=document.getElementById(t[i].id);document.getElementById(t[i].id+"_wrapper")&&(o=document.getElementById(t[i].id+"_wrapper"));if(o)if(r)e.utils.setOuterHTML(o,r);else{var u=document.createElement("div"),f=o.id;o.id.indexOf("_wrapper")==o.id.length-8&&(newID=o.id.substring(0,o.id.length-8)),u.setAttribute("id",f),o.parentNode.replaceChild(u,o)}t.splice(i,1)}return null},e.getPlayers=function(){return t.slice(0)}}(jwplayer);var _userPlayerReady=typeof playerReady=="function"?playerReady:undefined;playerReady=function(e){var t=jwplayer.api.playerById(e.id);t&&t.playerReady(e),_userPlayerReady&&_userPlayerReady.call(this,e)},function(e){function t(){if(!document.body)return setTimeout(t,15);var n=e.utils.selectors.getElementsByTagAndClass("video","jwplayer");for(var r=0;r<n.length;r++){var i=n[r];e(i.id).setup({})}}e.embed=function(t){function o(e,t){for(var n in t)typeof e[n]=="function"&&e[n].call(e,t[n])}function u(){if(s.getStatus()==e.utils.loaderstatus.COMPLETE){for(var n=0;n<i.modes.length;n++)if(i.modes[n].type&&e.embed[i.modes[n].type]){var r=i;i.modes[n].config&&(r=e.utils.extend(e.utils.clone(i),i.modes[n].config));var u=new e.embed[i.modes[n].type](document.getElementById(t.id),i.modes[n],r,s,t);if(u.supportsConfig())return u.embed(),o(t,i.events),t}e.utils.log("No suitable players found"),new e.embed.logo(e.utils.extend({hide:!0},i.components.logo),"none",t.id)}}var n={width:400,height:300,components:{controlbar:{position:"over"}}},r=e.utils.mediaparser.parseMedia(t.container),i=new e.embed.config(e.utils.extend(n,r,t.config),this),s=e.plugins.loadPlugins(t.id,i.plugins);return s.addEventListener(e.events.COMPLETE,u),s.addEventListener(e.events.ERROR,u),s.load(),t},t()}(jwplayer),function(e){function t(){return[{type:"flash",src:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}]}function n(e){var t=e.toLowerCase(),n=["left","right","top","bottom"];for(var r=0;r<n.length;r++)if(t==n[r])return!0;return!1}function r(e){var t=!1;return t=e instanceof Array||typeof e=="object"&&!e.position&&!e.size,t}function i(e){if(typeof e=="string")if(parseInt(e).toString()==e||e.toLowerCase().indexOf("px")>-1)return parseInt(e);return e}function o(t){var n={};switch(e.utils.typeOf(t.plugins)){case"object":for(var r in t.plugins)n[e.utils.getPluginName(r)]=r;break;case"string":var i=t.plugins.split(",");for(var s=0;s<i.length;s++)n[e.utils.getPluginName(i[s])]=i[s]}return n}function u(t,n,r,i){e.utils.typeOf(t[n])!="object"&&(t[n]={});var s=t[n][r];e.utils.typeOf(s)!="object"&&(t[n][r]=s={});if(n=="plugins"){var o=e.utils.getPluginName(r);s[i]=t[o+"."+i],delete t[o+"."+i]}else s[i]=t[r+"."+i],delete t[r+"."+i]}var s=["playlist","dock","controlbar","logo"];e.embed.deserialize=function(t){var n=o(t);for(var r in t)if(r.indexOf(".")>-1){var i=r.split("."),l=i[0],r=i[1];e.utils.isInArray(s,l)?u(t,"components",l,r):n[l]&&u(t,"plugins",n[l],r)}return t},e.embed.config=function(n,o){var u=e.utils.extend({},n),l;r(u.playlist)&&(l=u.playlist,delete u.playlist),u=e.embed.deserialize(u),u.height=i(u.height),u.width=i(u.width);if(typeof u.plugins=="string"){var p=u.plugins.split(",");typeof u.plugins!="object"&&(u.plugins={});for(var v=0;v<p.length;v++){var m=e.utils.getPluginName(p[v]);typeof u[m]=="object"?(u.plugins[p[v]]=u[m],delete u[m]):u.plugins[p[v]]={}}}for(var g=0;g<s.length;g++)typeof u[s[g]]=="string"?(u.components[s[g]]||(u.components[s[g]]={}),s[g]=="logo"?u.components[s[g]].file=u[s[g]]:u.components[s[g]].position=u[s[g]],delete u[s[g]]):typeof u[s[g]]!="undefined"&&(u.components[s[g]]||(u.components[s[g]]={}),e.utils.extend(u.components[s[g]],u[s[g]]),delete u[s[g]]),typeof u[s[g]+"size"]!="undefined"&&(u.components[s[g]]||(u.components[s[g]]={}),u.components[s[g]].size=u[s[g]+"size"],delete u[s[g]+"size"]);typeof u.icons!="undefined"&&(u.components.display||(u.components.display={}),u.components.display.icons=u.icons,delete u.icons),u.players&&(u.modes=u.players,delete u.players);var y;return u.flashplayer&&!u.modes?(y=t(),y[0].src=u.flashplayer,delete u.flashplayer):u.modes?(typeof u.modes=="string"?(y=t(),y[0].src=u.modes):u.modes instanceof Array?y=u.modes:typeof u.modes=="object"&&u.modes.type&&(y=[u.modes]),delete u.modes):y=t(),u.modes=y,l&&(u.playlist=l),u}}(jwplayer),function(e){e.embed.download=function(t,n,r,i,s){function o(t,n,r){if(r)return!1;var i=["image","sound","youtube","http"];if(n&&i.toString().indexOf(n)>-1)return!0;if(!n||n&&n=="video"){var s=e.utils.extension(t);if(s&&e.utils.extensionmap[s])return!0}return!1}this.embed=function(){function g(e){_imageWidth=i.display_image.naturalWidth,_imageHeight=i.display_image.naturalHeight,y()}function y(){e.utils.stretch(e.utils.stretching.UNIFORM,i.display_image,o,u,_imageWidth,_imageHeight)}var n=e.utils.extend({},r),i={},o=r.width?r.width:480;typeof o!="number"&&(o=parseInt(o,10));var u=r.height?r.height:320;typeof u!="number"&&(u=parseInt(u,10));var l,h,p,d={};r.playlist&&r.playlist.length?(d.file=r.playlist[0].file,h=r.playlist[0].image,d.levels=r.playlist[0].levels):(d.file=r.file,h=r.image,d.levels=r.levels),d.file?l=d.file:d.levels&&d.levels.length&&(l=d.levels[0].file),p=l?"pointer":"auto";var v={display:{style:{cursor:p,width:o,height:u,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:p,position:"absolute",display:l?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:p,position:"absolute",display:l?"block":"none",top:(u-50)/2,left:(o-50)/2,border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:o,height:u,display:h?"block":"none",position:"absolute",cursor:p,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}},m=function(n,r,i){var s=document.createElement(n);return i?s.id=i:s.id=t.id+"_jwplayer_"+r,e.utils.css(s,v[r].style),s};i.display=m("a","display",t.id),l&&i.display.setAttribute("href",e.utils.getAbsolutePath(l)),i.display_image=m("img","display_image"),i.display_image.setAttribute("alt","Click to download..."),h&&i.display_image.setAttribute("src",e.utils.getAbsolutePath(h)),i.display_icon=m("div","display_icon"),i.display_iconBackground=m("div","display_iconBackground"),i.display.appendChild(i.display_image),i.display_iconBackground.appendChild(i.display_icon),i.display.appendChild(i.display_iconBackground),_css=e.utils.css,_hide=function(e){_css(e,{display:"none"})},i.display_image.onerror=function(e){_hide(i.display_image)},i.display_image.onload=g,t.parentNode.replaceChild(i.display,t);var w=r.plugins&&r.plugins.logo?r.plugins.logo:{};i.display.appendChild(new e.embed.logo(r.components.logo,"download",t.id)),s.container=document.getElementById(s.id),s.setPlayer(i.display,"download")},this.supportsConfig=function(){if(!r)return!0;var t=e.utils.getFirstPlaylistItemFromConfig(r);if(typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return o(t.file,t.provider,t.playlistfile);if(t.levels&&t.levels.length)for(var n=0;n<t.levels.length;n++)if(t.levels[n].file&&o(t.levels[n].file,t.provider,t.playlistfile))return!0}}}(jwplayer),function(e){e.embed.flash=function(t,n,r,i,s){function o(e,t,n){var r=document.createElement("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function u(t,n,r){return function(i){r&&document.getElementById(s.id+"_wrapper").appendChild(n);var o=document.getElementById(s.id).getPluginConfig("display");t.resize(o.width,o.height);var u={left:o.x,top:o.y};e.utils.css(n,u)}}function f(e){if(!e)return{};var t={};for(var n in e){var r=e[n];for(var i in r)t[n+"."+i]=r[i]}return t}function l(e,t){if(e[t]){var n=e[t];for(var r in n){var i=n[r];if(typeof i=="string")e[r]||(e[r]=i);else for(var s in i)e[r+"."+s]||(e[r+"."+s]=i[s])}delete e[t]}}function c(t){if(!t)return{};var n={},r=[];for(var i in t){var s=e.utils.getPluginName(i),o=t[i];r.push(i);for(var u in o)n[s+"."+u]=o[u]}return n.plugins=r.join(","),n}function h(t){var n=t.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href)+"&";for(var r in t)typeof t[r]=="object"?n+=r+"="+encodeURIComponent("[[JSON]]"+e.utils.strings.jsonToString(t[r]))+"&":n+=r+"="+encodeURIComponent(t[r])+"&";return n.substring(0,n.length-1)}this.embed=function(){r.id=s.id;var f,p=e.utils.extend({},r),d=p.width,v=p.height;t.id+"_wrapper"==t.parentNode.id?f=document.getElementById(t.id+"_wrapper"):(f=document.createElement("div"),f.id=t.id+"_wrapper",e.utils.wrap(t,f),e.utils.css(f,{position:"relative",width:d,height:v}));var m=i.setupPlugins(s,p,u);m.length>0?e.utils.extend(p,c(m.plugins)):delete p.plugins;var y=["height","width","modes","events"];for(var w=0;w<y.length;w++)delete p[y[w]];var E="opaque";p.wmode&&(E=p.wmode),l(p,"components"),l(p,"providers"),typeof p["dock.position"]!="undefined"&&p["dock.position"].toString().toLowerCase()=="false"&&(p.dock=p["dock.position"],delete p["dock.position"]);var S="#000000",x;if(e.utils.isIE()){var T='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+S+'" width="100%" height="100%" id="'+t.id+'" name="'+t.id+'" tabindex=0"">';T+='<param name="movie" value="'+n.src+'">',T+='<param name="allowfullscreen" value="true">',T+='<param name="allowscriptaccess" value="always">',T+='<param name="seamlesstabbing" value="true">',T+='<param name="wmode" value="'+E+'">',T+='<param name="flashvars" value="'+h(p)+'">',T+="</object>",e.utils.setOuterHTML(t,T),x=document.getElementById(t.id)}else{var N=document.createElement("object");N.setAttribute("type","application/x-shockwave-flash"),N.setAttribute("data",n.src),N.setAttribute("width","100%"),N.setAttribute("height","100%"),N.setAttribute("bgcolor","#000000"),N.setAttribute("id",t.id),N.setAttribute("name",t.id),N.setAttribute("tabindex",0),o(N,"allowfullscreen","true"),o(N,"allowscriptaccess","always"),o(N,"seamlesstabbing","true"),o(N,"wmode",E),o(N,"flashvars",h(p)),t.parentNode.replaceChild(N,t),x=N}s.container=x,s.setPlayer(x,"flash")},this.supportsConfig=function(){if(e.utils.hasFlash()){if(!r)return!0;var t=e.utils.getFirstPlaylistItemFromConfig(r);if(typeof t.file=="undefined"&&typeof t.levels=="undefined")return!0;if(t.file)return flashCanPlay(t.file,t.provider);if(t.levels&&t.levels.length)for(var n=0;n<t.levels.length;n++)if(t.levels[n].file&&flashCanPlay(t.levels[n].file,t.provider))return!0}return!1},flashCanPlay=function(t,n){var r=["video","http","sound","image"];if(n&&r.toString().indexOf(n<0))return!0;var i=e.utils.extension(t);return i?e.utils.extensionmap[i]!==undefined&&e.utils.extensionmap[i].flash===undefined?!1:!0:!0}}}(jwplayer),function(e){e.embed.html5=function(t,n,r,i,s){function o(e,n,r){return function(i){var s=document.getElementById(t.id+"_displayarea");r&&s.appendChild(n);var o=s.style;e.resize(parseInt(o.width.replace("px","")),parseInt(o.height.replace("px",""))),n.left=o.left,n.top=o.top}}this.embed=function(){if(!e.html5)return null;i.setupPlugins(s,r,o),t.innerHTML="";var n=e.utils.extend({screencolor:"0x000000"},r),u=["plugins","modes","events"];for(var l=0;l<u.length;l++)delete n[u[l]];n.levels&&!n.sources&&(n.sources=r.levels),n.skin&&n.skin.toLowerCase().indexOf(".zip")>0&&(n.skin=n.skin.replace(/\.zip/i,".xml"));var h=new(e.html5(t).setup)(n);s.container=document.getElementById(s.id),s.setPlayer(h,"html5")},this.supportsConfig=function(){var t=document.createElement("video");if(!!t.canPlayType){if(!r)return!0;var n=e.utils.getFirstPlaylistItemFromConfig(r);if(typeof n.file=="undefined"&&typeof n.levels=="undefined")return!0;if(n.file)return html5CanPlay(t,n.file,n.provider,n.playlistfile);if(n.levels&&n.levels.length)for(var i=0;i<n.levels.length;i++)if(n.levels[i].file&&html5CanPlay(t,n.levels[i].file,n.provider,n.playlistfile))return!0}return!1},html5CanPlay=function(t,n,r,i){if(i)return!1;if(r&&r=="youtube")return!0;if(r&&r!="video"&&r!="http"&&r!="sound")return!1;var s=e.utils.extension(n);return!s||e.utils.extensionmap[s]===undefined?!0:e.utils.extensionmap[s].html5===undefined?!1:e.utils.isLegacyAndroid()&&s.match(/m4v|mp4/)?!0:browserCanPlay(t,e.utils.extensionmap[s].html5)},browserCanPlay=function(e,t){return t?e.canPlayType(t):!0}}}(jwplayer),function(e){e.embed.logo=function(t,n,r){function u(){f(),c(),h()}function f(){if(i.prefix){var t=e.version.split(/\W/).splice(0,2).join("/");i.prefix.indexOf(t)<0&&(i.prefix+=t+"/")}o=e.utils.extend({},i)}function l(){var e={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};e.display=o.hide?"none":"block";var t=o.position.toLowerCase().split("-");for(var n in t)e[t[n]]=o.margin;return e}function c(){s=document.createElement("img"),s.id=r+"_jwplayer_logo",s.style.display="none",s.onload=function(e){_css(s,l()),d()};if(!o.file)return;o.file.indexOf("http://")===0?s.src=o.file:s.src=o.prefix+o.file}function h(){o.link?(s.onmouseover=v,s.onmouseout=d,s.onclick=p):this.mouseEnabled=!1}function p(e){typeof e!="undefined"&&(e.preventDefault(),e.stopPropagation()),o.link&&window.open(o.link,"_blank");return}function d(e){o.link&&(s.style.opacity=o.out);return}function v(e){o.hide&&(s.style.opacity=o.over);return}var i={prefix:"http://l.longtailvideo.com/"+n+"/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",margin:8,out:.5,over:1,timeout:3,hide:!1,position:"bottom-left"};_css=e.utils.css;var s,o;u();if(!o.file)return;return s}}(jwplayer),function(e){e.html5=function(t){var n=t;return this.setup=function(t){return e.utils.extend(this,new e.html5.api(n,t)),this},this}}(jwplayer),function(e){function n(t){return[e.html5.view.positions.TOP,e.html5.view.positions.RIGHT,e.html5.view.positions.BOTTOM,e.html5.view.positions.LEFT].toString().indexOf(t.toUpperCase())>-1}var t=e.utils.css;e.html5.view=function(r,i,s){function g(){function n(){return o.skin.getComponentSettings("display")&&o.skin.getComponentSettings("display").backgroundcolor?o.skin.getComponentSettings("display").backgroundcolor:parseInt("000000",16)}l=document.createElement("div"),l.id=u.id,l.className=u.className,_videowrapper=document.createElement("div"),_videowrapper.id=l.id+"_video_wrapper",u.id=l.id+"_video",t(l,{position:"relative",height:f.height,width:f.width,padding:0,backgroundColor:n(),zIndex:0}),t(u,{width:f.width,height:f.height,top:0,left:0,zIndex:1,margin:"auto",display:"block"}),t(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0}),e.utils.wrap(u,l),e.utils.wrap(u,_videowrapper),d=document.createElement("div"),d.id=l.id+"_displayarea",l.appendChild(d)}function y(){for(var e=0;e<f.plugins.order.length;e++){var t=f.plugins.order[e];f.plugins.object[t].getDisplayElement!==undefined&&(f.plugins.object[t].height=E(f.plugins.object[t].getDisplayElement().style.height),f.plugins.object[t].width=E(f.plugins.object[t].getDisplayElement().style.width),f.plugins.config[t].currentPosition=f.plugins.config[t].position)}w()}function w(t){if(f.getMedia()!==undefined)for(var n=0;n<f.plugins.order.length;n++){var r=f.plugins.order[n];f.plugins.object[r].getDisplayElement!==undefined&&(f.getMedia().hasChrome()?f.plugins.config[r].currentPosition=e.html5.view.positions.NONE:f.plugins.config[r].currentPosition=f.plugins.config[r].position)}x(f.width,f.height)}function E(e){return typeof e=="string"?e===""?0:e.lastIndexOf("%")>-1?e:parseInt(e.replace("px",""),10):e}function S(t){switch(t.keyCode){case 27:o.jwGetFullscreen()&&o.jwSetFullscreen(!1);break;case 32:o.jwGetState()!=e.api.events.state.IDLE&&o.jwGetState()!=e.api.events.state.PAUSED?o.jwPause():o.jwPlay()}}function x(e,n){if(l.style.display=="none")return;var r=[].concat(f.plugins.order);r.reverse(),v=r.length+2;if(!f.fullscreen){f.width=e,f.height=n,h=e,p=n,t(d,{top:0,bottom:0,left:0,right:0,width:e,height:n}),t(l,{height:p,width:h});var i=T(N,r);i.length>0&&(v+=i.length,T(C,i,!0))}else navigator.vendor.indexOf("Apple")!==0&&T(k,r,!0);L()}function T(n,r,i){var s=[];for(var o=0;o<r.length;o++){var u=r[o];if(f.plugins.object[u].getDisplayElement!==undefined)if(f.plugins.config[u].currentPosition!=e.html5.view.positions.NONE){var a=n(u,v--);a?(f.plugins.object[u].resize(a.width,a.height),i&&(delete a.width,delete a.height),t(f.plugins.object[u].getDisplayElement(),a)):s.push(u)}else t(f.plugins.object[u].getDisplayElement(),{display:"none"})}return s}function N(e,t){if(f.plugins.object[e].getDisplayElement!==undefined&&f.plugins.config[e].position&&n(f.plugins.config[e].position)){f.plugins.object[e].getDisplayElement().parentNode===null&&l.appendChild(f.plugins.object[e].getDisplayElement());var r=A(e);return r.zIndex=t,r}return!1}function C(e,t){f.plugins.object[e].getDisplayElement().parentNode===null&&d.appendChild(f.plugins.object[e].getDisplayElement());var n=f.width,r=f.height;return typeof f.width=="string"&&f.width.lastIndexOf("%")>-1&&(percentage=parseFloat(f.width.substring(0,f.width.lastIndexOf("%")))/100,n=Math.round(window.innerWidth*percentage)),typeof f.height=="string"&&f.height.lastIndexOf("%")>-1&&(percentage=parseFloat(f.height.substring(0,f.height.lastIndexOf("%")))/100,r=Math.round(window.innerHeight*percentage)),{position:"absolute",width:n-E(d.style.left)-E(d.style.right),height:r-E(d.style.top)-E(d.style.bottom),zIndex:t}}function k(e,t){return{position:"fixed",width:f.width,height:f.height,zIndex:t}}function L(){d.style.position="absolute",f.getMedia().getDisplayElement().style.position="absolute";if(f.getMedia().getDisplayElement().videoWidth==0||f.getMedia().getDisplayElement().videoHeight==0)return;var t,n;if(d.style.width.toString().lastIndexOf("%")>-1||d.style.width.toString().lastIndexOf("%")>-1){var r=d.getBoundingClientRect();t=Math.abs(r.left)+Math.abs(r.right),n=Math.abs(r.top)+Math.abs(r.bottom)}else t=E(d.style.width),n=E(d.style.height);e.utils.stretch(o.jwGetStretching(),f.getMedia().getDisplayElement(),t,n,f.getMedia().getDisplayElement().videoWidth,f.getMedia().getDisplayElement().videoHeight)}function A(t){var n={position:"absolute",margin:0,padding:0,top:null},r=f.plugins.config[t].currentPosition.toLowerCase();switch(r.toUpperCase()){case e.html5.view.positions.TOP:n.top=E(d.style.top),n.left=E(d.style.left),n.width=h-E(d.style.left)-E(d.style.right),n.height=f.plugins.object[t].height,d.style[r]=E(d.style[r])+f.plugins.object[t].height+"px",d.style.height=E(d.style.height)-n.height+"px";break;case e.html5.view.positions.RIGHT:n.top=E(d.style.top),n.right=E(d.style.right),n.width=n.width=f.plugins.object[t].width,n.height=p-E(d.style.top)-E(d.style.bottom),d.style[r]=E(d.style[r])+f.plugins.object[t].width+"px",d.style.width=E(d.style.width)-n.width+"px";break;case e.html5.view.positions.BOTTOM:n.bottom=E(d.style.bottom),n.left=E(d.style.left),n.width=h-E(d.style.left)-E(d.style.right),n.height=f.plugins.object[t].height,d.style[r]=E(d.style[r])+f.plugins.object[t].height+"px",d.style.height=E(d.style.height)-n.height+"px";break;case e.html5.view.positions.LEFT:n.top=E(d.style.top),n.left=E(d.style.left),n.width=f.plugins.object[t].width,n.height=p-E(d.style.top)-E(d.style.bottom),d.style[r]=E(d.style[r])+f.plugins.object[t].width+"px",d.style.width=E(d.style.width)-n.width+"px";break;default:}return n}var o=r,u=i,f=s,l,h,p,d,v,m;this.setup=function(t){u=t,g(),y(),o.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_LOADED,w),o.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_META,function(){L()});var n;window.onresize!==null&&(n=window.onresize),window.onresize=function(e){if(n!==undefined)try{n(e)}catch(t){}if(o.jwGetFullscreen()){var r=document.body.getBoundingClientRect();f.width=Math.abs(r.left)+Math.abs(r.right),f.height=window.innerHeight}x(f.width,f.height)}},this.resize=x,this.fullscreen=function(e){if(navigator.vendor.indexOf("Apple")===0){if(f.getMedia().getDisplayElement().webkitSupportsFullscreen)if(e)try{f.getMedia().getDisplayElement().webkitEnterFullscreen()}catch(n){}else try{f.getMedia().getDisplayElement().webkitExitFullscreen()}catch(n){}}else{if(e){document.onkeydown=S,clearInterval(m);var r=document.body.getBoundingClientRect();f.width=Math.abs(r.left)+Math.abs(r.right),f.height=window.innerHeight;var i={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483e3};t(l,i),i.zIndex=1,t(f.getMedia().getDisplayElement(),i),i.zIndex=2,t(d,i)}else document.onkeydown="",f.width=h,f.height=p,t(l,{position:"relative",height:f.height,width:f.width,zIndex:0});x(f.width,f.height)}}},e.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}}(jwplayer),function(e){var t={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:e.html5.view.positions.BOTTOM,idlehide:!1,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_css=e.utils.css,_hide=function(e){_css(e,{display:"none"})},_show=function(e){_css(e,{display:"block"})},e.html5.controlbar=function(n,r){function T(){return S||(S=i.skin.getSkinElement("controlbar","background"),S||(S={width:0,height:0,src:null})),S}function N(){f=0,l=0,u=0;if(!w){var e={height:T().height,backgroundColor:s.backgroundcolor};o=document.createElement("div"),o.id=i.id+"_jwplayer_controlbar",_css(o,e)}var t=i.skin.getSkinElement("controlbar","capLeft"),n=i.skin.getSkinElement("controlbar","capRight");t&&P("capLeft","left",!1,o);var r={position:"absolute",height:T().height,left:t?t.width:0,zIndex:0};A("background",o,r,"img"),T().src&&(y.background.src=T().src),r.zIndex=1,A("elements",o,r),n&&P("capRight","right",!1,o)}function C(){var e=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var t in e){var n=e[t];typeof y[n]!="undefined"&&(E[n]=y[n].getBoundingClientRect())}}function k(){if(x)return;e.utils.cancelAnimation(o),L()?e.utils.fadeTo(o,1,0,1,0):e.utils.fadeTo(o,0,.1,1,2)}function L(){return x?!1:i.jwGetState()==e.api.events.state.IDLE||i.jwGetState()==e.api.events.state.PAUSED?s.idlehide?!1:!0:i.jwGetFullscreen()?!1:s.position==e.html5.view.positions.OVER?!1:!0}function A(e,t,n,r){var i;return w?i=document.getElementById(o.id+"_"+e):(r||(r="div"),i=document.createElement(r),y[e]=i,i.id=o.id+"_"+e,t.appendChild(i)),n!==undefined&&_css(i,n),i}function O(){M(s.layout.left),M(s.layout.right,-1),M(s.layout.center)}function M(t,n){var r=t.position=="right"?"right":"left",i=e.utils.extend([],t.elements);n!==undefined&&i.reverse();for(var s=0;s<i.length;s++)D(i[s],r)}function _(){return u++}function D(e,t){var n,r,s,o,u;if(e.type=="divider"){P("divider"+_(),t,!0,undefined,undefined,e.width,e.element);return}switch(e.name){case"play":P("playButton",t,!1),P("pauseButton",t,!0),F("playButton","jwPlay"),F("pauseButton","jwPause");break;case"prev":P("prevButton",t,!0),F("prevButton","jwPlaylistPrev");break;case"next":P("nextButton",t,!0),F("nextButton","jwPlaylistNext");break;case"elapsed":P("elapsedText",t,!0);break;case"time":r=i.skin.getSkinElement("controlbar","timeSliderCapLeft")===undefined?0:i.skin.getSkinElement("controlbar","timeSliderCapLeft").width,s=i.skin.getSkinElement("controlbar","timeSliderCapRight")===undefined?0:i.skin.getSkinElement("controlbar","timeSliderCapRight").width,n=t=="left"?r:s,o=i.skin.getSkinElement("controlbar","timeSliderRail").width+r+s,u={height:T().height,position:"absolute",top:0,width:o},u[t]=t=="left"?f:l;var a=A("timeSlider",y.elements,u);P("timeSliderCapLeft",t,!0,a,t=="left"?0:n),P("timeSliderRail",t,!1,a,n),P("timeSliderBuffer",t,!1,a,n),P("timeSliderProgress",t,!1,a,n),P("timeSliderThumb",t,!1,a,n),P("timeSliderCapRight",t,!0,a,t=="right"?0:n),I("time");break;case"fullscreen":P("fullscreenButton",t,!1),P("normalscreenButton",t,!0),F("fullscreenButton","jwSetFullscreen",!0),F("normalscreenButton","jwSetFullscreen",!1);break;case"volume":r=i.skin.getSkinElement("controlbar","volumeSliderCapLeft")===undefined?0:i.skin.getSkinElement("controlbar","volumeSliderCapLeft").width,s=i.skin.getSkinElement("controlbar","volumeSliderCapRight")===undefined?0:i.skin.getSkinElement("controlbar","volumeSliderCapRight").width,n=t=="left"?r:s,o=i.skin.getSkinElement("controlbar","volumeSliderRail").width+r+s,u={height:T().height,position:"absolute",top:0,width:o},u[t]=t=="left"?f:l;var c=A("volumeSlider",y.elements,u);P("volumeSliderCapLeft",t,!0,c,t=="left"?0:n),P("volumeSliderRail",t,!0,c,n),P("volumeSliderProgress",t,!1,c,n),P("volumeSliderCapRight",t,!0,c,t=="right"?0:n),I("volume");break;case"mute":P("muteButton",t,!1),P("unmuteButton",t,!0),F("muteButton","jwSetMute",!0),F("unmuteButton","jwSetMute",!1);break;case"duration":P("durationText",t,!0)}}function P(t,n,r,o,u,c,h){if(i.skin.getSkinElement("controlbar",t)!==undefined||t.indexOf("Text")>0||t.indexOf("divider")===0){var p={height:T().height,position:"absolute",display:"block",top:0};(t.indexOf("next")===0||t.indexOf("prev")===0)&&i.jwGetPlaylist().length<2&&(r=!1,p.display="none");var d;if(t.indexOf("Text")>0)t.innerhtml="00:00",p.font=s.fontsize+"px/"+(T().height+1)+"px "+s.font,p.color=s.fontcolor,p.textAlign="center",p.fontWeight=s.fontweight,p.fontStyle=s.fontstyle,p.cursor="default",d=14+3*s.fontsize;else if(t.indexOf("divider")===0)if(c)isNaN(parseInt(c))||(d=parseInt(c));else if(h){var v=i.skin.getSkinElement("controlbar",h);v&&(p.background="url("+v.src+") repeat-x center left",d=v.width)}else p.background="url("+i.skin.getSkinElement("controlbar","divider").src+") repeat-x center left",d=i.skin.getSkinElement("controlbar","divider").width;else p.background="url("+i.skin.getSkinElement("controlbar",t).src+") repeat-x center left",d=i.skin.getSkinElement("controlbar",t).width;n=="left"?(p.left=isNaN(u)?f:u,r&&(f+=d)):n=="right"&&(p.right=isNaN(u)?l:u,r&&(l+=d)),e.utils.typeOf(o)=="undefined"&&(o=y.elements),p.width=d;if(w)_css(y[t],p);else{var m=A(t,o,p);i.skin.getSkinElement("controlbar",t+"Over")!==undefined&&(m.onmouseover=function(e){m.style.backgroundImage=["url(",i.skin.getSkinElement("controlbar",t+"Over").src,")"].join("")},m.onmouseout=function(e){m.style.backgroundImage=["url(",i.skin.getSkinElement("controlbar",t).src,")"].join("")})}}}function H(){i.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,B),i.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_BUFFER,R),i.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,z),i.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_TIME,X),i.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_MUTE,U),i.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_VOLUME,K),i.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_COMPLETE,W)}function B(){N(),O(),J(),j()}function j(){X({id:i.id,duration:i.jwGetDuration(),position:0}),R({id:i.id,bufferProgress:0}),U({id:i.id,mute:i.jwGetMute()}),z({id:i.id,newstate:e.api.events.state.IDLE}),K({id:i.id,volume:i.jwGetVolume()})}function F(e,t,n){if(w)return;if(i.skin.getSkinElement("controlbar",e)!==undefined){var r=y[e];r!==null&&(_css(r,{cursor:"pointer"}),t=="fullscreen"?r.onmouseup=function(e){e.stopPropagation(),i.jwSetFullscreen(!i.jwGetFullscreen())}:r.onmouseup=function(e){e.stopPropagation(),n!==null?i[t](n):i[t]()})}}function I(e){if(w)return;var t=y[e+"Slider"];_css(y.elements,{cursor:"pointer"}),_css(t,{cursor:"pointer"}),t.onmousedown=function(t){c=e},t.onmouseup=function(e){e.stopPropagation(),q(e.pageX)},t.onmousemove=function(t){if(c=="time"){h=!0;var n=t.pageX-E[e+"Slider"].left-window.pageXOffset;_css(y.timeSliderThumb,{left:n})}}}function q(t){h=!1;var n;if(c=="time"){n=t-E.timeSliderRail.left+window.pageXOffset;var r=n/E.timeSliderRail.width*d;r<0?r=0:r>d&&(r=d-3),(i.jwGetState()==e.api.events.state.PAUSED||i.jwGetState()==e.api.events.state.IDLE)&&i.jwPlay(),i.jwSeek(r)}else if(c=="volume"){n=t-E.volumeSliderRail.left-window.pageXOffset;var s=Math.round(n/E.volumeSliderRail.width*100);s<0?s=0:s>100&&(s=100),i.jwGetMute()&&i.jwSetMute(!1),i.jwSetVolume(s)}c="none"}function R(e){e.bufferPercent!==null&&(v=e.bufferPercent);if(E.timeSliderRail){var t=E.timeSliderRail.width,n=isNaN(Math.round(t*v/100))?0:Math.round(t*v/100);_css(y.timeSliderBuffer,{width:n})}}function U(e){e.mute?(_hide(y.muteButton),_show(y.unmuteButton),_hide(y.volumeSliderProgress)):(_show(y.muteButton),_hide(y.unmuteButton),_show(y.volumeSliderProgress))}function z(t){t.newstate==e.api.events.state.BUFFERING||t.newstate==e.api.events.state.PLAYING?(_show(y.pauseButton),_hide(y.playButton)):(_hide(y.pauseButton),_show(y.playButton)),k(),t.newstate==e.api.events.state.IDLE?(_hide(y.timeSliderBuffer),_hide(y.timeSliderProgress),_hide(y.timeSliderThumb),X({id:i.id,duration:i.jwGetDuration(),position:0})):(_show(y.timeSliderBuffer),t.newstate!=e.api.events.state.BUFFERING&&(_show(y.timeSliderProgress),_show(y.timeSliderThumb)))}function W(t){R({bufferPercent:0}),X(e.utils.extend(t,{position:0,duration:d}))}function X(e){e.position!==null&&(p=e.position),e.duration!==null&&(d=e.duration);var t=p===d===0?0:p/d,n=E.timeSliderRail;if(n){var r=isNaN(Math.round(n.width*t))?0:Math.round(n.width*t),i=r;y.timeSliderProgress&&(y.timeSliderProgress.style.width=r+"px",h||y.timeSliderThumb&&(y.timeSliderThumb.style.left=i+"px"))}y.durationText&&(y.durationText.innerHTML=V(d)),y.elapsedText&&(y.elapsedText.innerHTML=V(p))}function V(e){return str="00:00",e>0&&(str=Math.floor(e/60)<10?"0"+Math.floor(e/60)+":":Math.floor(e/60)+":",str+=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60)),str}function $(){var e,t,n=document.getElementById(o.id+"_elements").childNodes;for(var r in document.getElementById(o.id+"_elements").childNodes){if(isNaN(parseInt(r,10)))continue;n[r].id.indexOf(o.id+"_divider")===0&&t&&t.id.indexOf(o.id+"_divider")===0&&n[r].style.backgroundImage==t.style.backgroundImage?n[r].style.display="none":n[r].id.indexOf(o.id+"_divider")===0&&e&&e.style.display!="none"&&(n[r].style.display="block"),n[r].style.display!="none"&&(t=n[r]),e=n[r]}}function J(){$(),i.jwGetFullscreen()?(_show(y.normalscreenButton),_hide(y.fullscreenButton)):(_hide(y.normalscreenButton),_show(y.fullscreenButton));var t={width:m},n={};s.position==e.html5.view.positions.OVER||i.jwGetFullscreen()?(t.left=s.margin,t.width-=2*s.margin,t.top=g-T().height-s.margin,t.height=T().height):t.left=0;var r=i.skin.getSkinElement("controlbar","capLeft"),u=i.skin.getSkinElement("controlbar","capRight");n.left=r?r.width:0,n.width=t.width-n.left-(u?u.width:0);var c=i.skin.getSkinElement("controlbar","timeSliderCapLeft")===undefined?0:i.skin.getSkinElement("controlbar","timeSliderCapLeft").width;return _css(y.timeSliderRail,{width:n.width-f-l,left:c}),y.timeSliderCapRight!==undefined&&_css(y.timeSliderCapRight,{left:c+(n.width-f-l)}),_css(o,t),_css(y.elements,n),_css(y.background,n),C(),t}function K(e){if(y.volumeSliderRail!==undefined){var t=isNaN(e.volume/100)?1:e.volume/100,n=parseInt(y.volumeSliderRail.style.width.replace("px",""),10),r=isNaN(Math.round(n*t))?0:Math.round(n*t),s=parseInt(y.volumeSliderRail.style.right.replace("px",""),10),o=i.skin.getSkinElement("controlbar","volumeSliderCapLeft")===undefined?0:i.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(y.volumeSliderProgress,{width:r,left:o}),y.volumeSliderCapLeft!==undefined&&_css(y.volumeSliderCapLeft,{left:0})}}function Q(){N(),O(),C(),w=!0,H(),j(),o.style.opacity=s.idlehide?0:1}var i=n,s=e.utils.extend({},t,i.skin.getComponentSettings("controlbar"),r);if(s.position==e.html5.view.positions.NONE||typeof e.html5.view.positions[s.position]=="undefined")return;e.utils.mapLength(i.skin.getComponentLayout("controlbar"))>0&&(s.layout=i.skin.getComponentLayout("controlbar"));var o,u,f,l,c="none",h,p,d,v,m,g,y={},w=!1,E={},S,x=!1;return this.getDisplayElement=function(){return o},this.resize=function(t,n){e.utils.cancelAnimation(o),document.getElementById(i.id).onmousemove=k,m=t,g=n,k();var r=J();return X({id:i.id,duration:d,position:p}),R({id:i.id,bufferPercent:v}),r},this.show=function(){x=!1,_show(o)},this.hide=function(){x=!0,_hide(o)},Q(),this}}(jwplayer),function(e){var t=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];e.html5.controller=function(t,n,r,i){function p(e){h.sendEvent(e.type,e)}function d(){try{return o.playlist[o.item].levels[0].file.length>0&&(f||o.state==e.api.events.state.IDLE?(o.addEventListener(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){o.getMedia().play()}),o.addEventListener(e.api.events.JWPLAYER_MEDIA_TIME,function(e){e.position>=o.playlist[o.item].start&&l>=0&&(o.playlist[o.item].start=l,l=-1)}),o.config.repeat&&o.addEventListener(e.api.events.JWPLAYER_MEDIA_COMPLETE,function(e){setTimeout(L,25)}),o.getMedia().load(o.playlist[o.item]),f=!1):o.state==e.api.events.state.PAUSED&&o.getMedia().play()),!0}catch(t){h.sendEvent(e.api.events.JWPLAYER_ERROR,t)}return!1}function v(){try{if(o.playlist[o.item].levels[0].file.length>0)switch(o.state){case e.api.events.state.PLAYING:case e.api.events.state.BUFFERING:o.getMedia().pause()}return!0}catch(t){h.sendEvent(e.api.events.JWPLAYER_ERROR,t)}return!1}function m(t){try{if(o.playlist[o.item].levels[0].file.length>0){typeof t!="number"&&(t=parseFloat(t));switch(o.state){case e.api.events.state.IDLE:l<0&&(l=o.playlist[o.item].start,o.playlist[o.item].start=t),d();break;case e.api.events.state.PLAYING:case e.api.events.state.PAUSED:case e.api.events.state.BUFFERING:o.seek(t)}}return!0}catch(n){h.sendEvent(e.api.events.JWPLAYER_ERROR,n)}return!1}function g(){try{return o.playlist[o.item].levels[0].file.length>0&&o.state!=e.api.events.state.IDLE&&o.getMedia().stop(),!0}catch(t){h.sendEvent(e.api.events.JWPLAYER_ERROR,t)}return!1}function y(){try{return o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?S(E()):o.item+1==o.playlist.length?S(0):S(o.item+1)),o.state!=e.api.events.state.PLAYING&&o.state!=e.api.events.state.BUFFERING&&d(),!0}catch(t){h.sendEvent(e.api.events.JWPLAYER_ERROR,t)}return!1}function w(){try{return o.playlist[o.item].levels[0].file.length>0&&(o.config.shuffle?S(E()):o.item===0?S(o.playlist.length-1):S(o.item-1)),o.state!=e.api.events.state.PLAYING&&o.state!=e.api.events.state.BUFFERING&&d(),!0}catch(t){h.sendEvent(e.api.events.JWPLAYER_ERROR,t)}return!1}function E(){var e=null;if(o.playlist.length>1)while(e===null)e=Math.floor(Math.random()*o.playlist.length),e==o.item&&(e=null);else e=0;return e}function S(t){o.resetEventListeners(),o.addGlobalListener(p);try{if(o.playlist[t].levels[0].file.length>0){var n=o.state;n!==e.api.events.state.IDLE&&g(),o.item=t,f=!0,o.setActiveMediaProvider(o.playlist[o.item]),h.sendEvent(e.api.events.JWPLAYER_PLAYLIST_ITEM,{index:t}),(n==e.api.events.state.PLAYING||n==e.api.events.state.BUFFERING||o.config.chromeless||r.config.autostart===!0)&&d()}return!0}catch(i){h.sendEvent(e.api.events.JWPLAYER_ERROR,i)}return!1}function x(t){try{switch(typeof t){case"number":o.getMedia().volume(t);break;case"string":o.getMedia().volume(parseInt(t,10))}return!0}catch(n){h.sendEvent(e.api.events.JWPLAYER_ERROR,n)}return!1}function T(t){try{return typeof t=="undefined"?o.getMedia().mute(!o.mute):t.toString().toLowerCase()=="true"?o.getMedia().mute(!0):o.getMedia().mute(!1),!0}catch(n){h.sendEvent(e.api.events.JWPLAYER_ERROR,n)}return!1}function N(t,n){try{return o.width=t,o.height=n,u.resize(t,n),h.sendEvent(e.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height}),!0}catch(r){h.sendEvent(e.api.events.JWPLAYER_ERROR,r)}return!1}function C(t){try{return typeof t=="undefined"?(o.fullscreen=!o.fullscreen,u.fullscreen(!o.fullscreen)):t.toString().toLowerCase()=="true"?(o.fullscreen=!0,u.fullscreen(!0)):(o.fullscreen=!1,u.fullscreen(!1)),h.sendEvent(e.api.events.JWPLAYER_RESIZE,{width:o.width,height:o.height}),h.sendEvent(e.api.events.JWPLAYER_FULLSCREEN,{fullscreen:t}),!0}catch(n){h.sendEvent(e.api.events.JWPLAYER_ERROR,n)}return!1}function k(t){try{return g(),o.loadPlaylist(t),S(o.item),!0}catch(n){h.sendEvent(e.api.events.JWPLAYER_ERROR,n)}return!1}function L(){o.resetEventListeners(),o.addGlobalListener(p);switch(o.config.repeat.toUpperCase()){case e.html5.controller.repeatoptions.SINGLE:d();break;case e.html5.controller.repeatoptions.ALWAYS:o.item==o.playlist.length-1&&!o.config.shuffle?(S(0),d()):y();break;case e.html5.controller.repeatoptions.LIST:o.item==o.playlist.length-1&&!o.config.shuffle?S(0):y()}}var s=t,o=r,u=i,a=n,f=!0,l=-1,c=o.config.debug!==undefined&&o.config.debug.toString().toLowerCase()=="console",h=new e.html5.eventdispatcher(a.id,c);e.utils.extend(this,h),o.addGlobalListener(p),e.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"},this.play=d,this.pause=v,this.seek=m,this.stop=g,this.next=y,this.prev=w,this.item=S,this.setVolume=x,this.setMute=T,this.resize=N,this.setFullscreen=C,this.load=k}}(jwplayer),function(e){e.html5.defaultSkin=function(){return this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.0"><settings><setting name="backcolor" value="0xFFFFFF"/><setting name="frontcolor" value="0x000000"/><setting name="lightcolor" value="0x000000"/><setting name="screencolor" value="0x000000"/></settings><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/></settings><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFJJREFUeNrslLENwAAIwxLU/09j5AiOgD5hVQzNAVY8JK4qEfHMIKBnd2+BQlBINaiRtL/aV2rdzYBsM6CIONbI1NZENTr3RwdB2PlnJgJ6BRgA4hwu5Qg5iswAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD5JREFUeNosi8ENACAMAgnuv14H0Z8asI19XEjhOiKCMmibVgJTUt7V6fe9KXOtSQCfctJHu2q3/ot79hNgANc2OTz9uTCCAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEhJREFUeNpiYqABYBo1dNRQ+hr6H4jvA3E8NS39j4SpZvh/LJig4YxEGEqy3kET+w+AOGFQRhTJhrEQkGcczfujhg4CQwECDADpTRWU/B3wHQAAAABJRU5ErkJggg=="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiYBgFo2DwA0YC8v/R1P4nRu+ooaOGUtnQUTAKhgIACDAAFCwQCfAJ4gwAAAAASUVORK5CYII="/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEtJREFUeNpiYBgFo2Dog/9QDAPyQHweTYwiQ/2B+D0Wi8g2tB+JTdBQRiIMJVkvEy0iglhDF9Aq9uOpHVEwoE+NJDUKRsFgAAABBgDe2hqZcNNL0AAAAABJRU5ErkJggg=="/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUeNpiYBgFo2Dog/9AfB6I5dHE/lNqKAi/B2J/ahsKw/3EGMpIhKEk66WJoaR6fz61IyqemhEFSlL61ExSo2AUDAYAEGAAiG4hj+5t7M8AAAAASUVORK5CYII="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADxJREFUeNpiYBgFo2AU0Bwwzluw+D8tLWARFhKiqQ9YuLg4aWsBGxs7bS1gZ6e5BWyjSX0UjIKhDgACDABlYQOGh5pYywAAAABJRU5ErkJggg=="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFo2AU0Bww1jc0/aelBSz8/Pw09QELOzs7bS1gY2OjrQWsrKy09gHraFIfBaNgqAOAAAMAvy0DChXHsZMAAAAASUVORK5CYII="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAClJREFUeNpiYBgFo2AU0BwwAvF/WlrARGsfjFow8BaMglEwCugAAAIMAOHfAQunR+XzAAAAAElFTkSuQmCC"/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABZJREFUeNpiZICA/yCCiQEJUJcDEGAAY0gBD1/m7Q0AAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiYBgFIw3MB+L/5Gj8j6yRiRTFyICJXHfTXyMLAXlGati4YDRFDj8AEGAABk8GSqqS4CoAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYBgFgxz8p7bm+cQa+h8LHy7GhEcjIz4bmAjYykiun/8j0fakGPIfTfPgiSr6aB4FVAcAAQYAWdwR1G1Wd2gAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpi/P//PwM9ABMDncCoRYPfIqqDZcuW1UPp/6AUDcNM1DQYKtRAlaAj1mCSLSLXYIIWUctgDItoZfDA5aOoqKhGEANIM9LVR7SymGDQUctikuOIXkFNdhHEOFrDjlpEd4sAAgwAriRMub95fu8AAAAASUVORK5CYII="/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFtJREFUeNpi/P//PwM9ABMDncCoRYPfIlqAeij9H5SiYZiqBqPTlFqE02BKLSLaYFItIttgQhZRzWB8FjENiuRJ7aAbsMQwYMl7wDIsWUUQ42gNO2oR3S0CCDAAKhKq6MLLn8oAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAE5JREFUeNpiYBgFo2DQA0YC8v/xqP1PjDlMRDrEgUgxkgHIlfZoriVGjmzLsLFHAW2D6D8eA/9Tw7L/BAwgJE90PvhPpNgoGAVDEQAEGAAMdhTyXcPKcAAAAABJRU5ErkJggg=="/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEZJREFUeNpiYBgFo2DIg/9UUkOUAf8JiFFsyX88fJyAkcQgYMQjNkzBoAgiezyRbE+tFGSPxQJ7auYBmma0UTAKBhgABBgAJAEY6zON61sAAAAASUVORK5CYII="/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC"/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg=="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNrs1jEOgCAMBVAg7t5/8qaoIy4uoobyXsLCxA+0NCUAAADGUWvdQoQ41x4ixNBB2hBvBskdD3w5ZCkl3+33VqI0kjBBlh9rp+uTcyOP33TnolfsU85XX3yIRpQph8ZQY3wTZtU5AACASA4BBgDHoVuY1/fvOQAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWlJREFUeNrsl+1twjAQhsHq/7BBYQLYIBmBDcoGMAIjtBPQTcII2SDtBDBBwrU6pGsUO7YbO470PtKJkz9iH++d4ywWAAAAAABgljRNsyWr2bZzDuJG1rLdZhcMbTjrBCGDyUKsqQLFciJb9bSvuG/WagRVRUVUI6gqy5HVeKWfSgRyJruKIU//TrZTSn2nmlaXThrloi/v9F2STC1W4+Aw5cBzkquRc09bofFNc6YLxEON0VUZS5FPTftO49vMjRsIF3RhOGr7/D/pJw+FKU+q0vDyq8W42jCunDqI3LC5XxNj2wHLU1XjaRnb0Lhykhqhhd8MtSF5J9tbjCv4mXGvKJz/65FF/qJryyaaIvzP2QRxZTX2nTuXjvV/VPFSwyLnW7mpH99yTh1FEVro6JBSd40/pMrRdV8vPtcKl28T2pT8TnFZ4yNosct3Q0io6JfBiz1FlGdqVQH3VHnepAEAAAAAADDzEGAAcTwB10jWgxcAAAAASUVORK5CYII="/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuhJREFUeNrsWr9rU1EUznuNGqvFQh1ULOhiBx0KDtIuioO4pJuik3FxFfUPaAV1FTdx0Q5d2g4FFxehTnEpZHFoBy20tCIWtGq0TZP4HfkeHB5N8m6Sl/sa74XDybvv3vvOd8/Pe4lXrVZT3dD8VJc0B8QBcUAcEAfESktHGeR5XtMfqFQq/f92zPe/NbtGlKTdCY30kuxrpMGO94BlQCXs+rbh3ONgA6BlzP1p20d80gEI5hmA2A92Qua1Q2PtAFISM+bvjMG8U+Q7oA3rQGASwrYCU6WpNdLGYbA+Pq5jjXIiwi8EEa2UDbQSaKOIuV+SlkcCrfjY8XTI9EpKGwP0C2kru2hLtHqa4zoXtZRWyvi4CLwv9Opr6Hkn6A9HKgEANsQ1iqC3Ub/vRUk2JgmRkatK36kVrnt0qObunwUdUUMXMWYpakJsO5Am8tAw2GBIgwWA+G2S2dMpiw0gDioQRQJoKhRb1QiDwlHZUABYbaXWsm5ae6loTE4ZDxN4CZar8foVzOJ2iyZ2kWF3t7YIevffaMT5yJ70kQb2fQ1sE5SHr2wazs2wgMxgbsEKEAgxAvZUJbQLBGTSBMgNrncJbA6AljtS/eKDJ0Ez+DmrQEzXS2h1Ck25kAg0IZcUOaydCy4sYnN2fOA+2AP16gNoHALlQ+fwH7XO4CxLenUpgj4xr6ugY2roPMbMx+Xs18m/E8CVEIhxsNeg83XWOAN6grG3lGbk8uE5fr4B/WH3cJw+co/l9nTYsSGYCJ/lY5/qv0thn6nrIWmjeJcPSnWOeY++AkF8tpJHIMAUs/MaBBpj3znZfQo5psY+ZrG4gv5HickjEOymKjEeRpgyST6IuZcTcWbnjcgdPi5ghxciRKsl1lDSsgwA1i8fssonJgzmTSqfGUkCENndNdAL7PS6QQ7ZYISTo+1qq0LEWjTWcvY4isa4z+yfQB+7ooyHVg5RI7/i1Ijn/vnggDggDogD4oC00P4KMACd/juEHOrS4AAAAABJRU5ErkJggg=="/></elements></component><component name="dock"><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFBJREFUeNrs0cEJACAQA8Eofu0fu/W6EM5ZSAFDRpKTBs00CQQEBAQEBAQEBAQEBAQEBATkK8iqbY+AgICAgICAgICAgICAgICAgIC86QowAG5PAQzEJ0lKAAAAAElFTkSuQmCC"/></elements></component><component name="playlist"><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHhJREFUeNrs2NEJwCAMBcBYuv/CFuIE9VN47WWCR7iocXR3pdWdGPqqwIoMjYfQeAiNh9B4JHc6MHQVHnjggQceeOCBBx77TifyeOY0iHi8DqIdEY8dD5cL094eePzINB5CO/LwcOTptNB4CP25L4TIbZzpU7UEGAA5wz1uF5rF9AAAAABJRU5ErkJggg=="/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUeNrsy6ENACAMAMHClp2wYxZLAg5Fcu9e3OjuOKqqfTMzbs14CIZhGIZhGIZhGP4VLwEGAK/BBnVFpB0oAAAAAElFTkSuQmCC"/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA8CAIAAADpFA0BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNrsy7ENACAMBLE8++8caFFKKiRffU53112SGs3ttOohGIZhGIZhGIZh+Fe8BRgAiaUGde6NOSEAAAAASUVORK5CYII="/></elements></component></components></skin>',this.xml=null,window.DOMParser?(parser=new DOMParser,this.xml=parser.parseFromString(this.text,"text/xml")):(this.xml=new ActiveXObject("Microsoft.XMLDOM"),this.xml.async="false",this.xml.loadXML(this.text)),this}}(jwplayer),function(e){_css=e.utils.css,_hide=function(e){_css(e,{display:"none"})},_show=function(e){_css(e,{display:"block"})},e.html5.display=function(t,n){function y(){o.display=E("div","display"),o.display_text=E("div","display_text"),o.display.appendChild(o.display_text),o.display_image=E("img","display_image"),o.display_image.onerror=function(e){_hide(o.display_image)},o.display_image.onload=b,o.display_icon=E("div","display_icon"),o.display_iconBackground=E("div","display_iconBackground"),o.display.appendChild(o.display_image),o.display_iconBackground.appendChild(o.display_icon),o.display.appendChild(o.display_iconBackground),S()}function b(e){l=o.display_image.naturalWidth,c=o.display_image.naturalHeight,w()}function w(){e.utils.stretch(s.jwGetStretching(),o.display_image,u,f,l,c)}function E(e,t){var n=document.createElement(e);return n.id=s.id+"_jwplayer_"+t,_css(n,g[t].style),n}function S(){for(var e in o)g[e].click!==undefined&&(o[e].onclick=g[e].click)}function x(t){typeof t.preventDefault!="undefined"?t.preventDefault():t.returnValue=!1,s.jwGetState()!=e.api.events.state.PLAYING?s.jwPlay():s.jwPause()}function T(e){if(d||!i.icons){N();return}_show(o.display_iconBackground),o.display_icon.style.backgroundImage=["url(",s.skin.getSkinElement("display",e).src,")"].join(""),_css(o.display_icon,{display:"block",width:s.skin.getSkinElement("display",e).width,height:s.skin.getSkinElement("display",e).height,top:(s.skin.getSkinElement("display","background").height-s.skin.getSkinElement("display",e).height)/2,left:(s.skin.getSkinElement("display","background").width-s.skin.getSkinElement("display",e).width)/2}),s.skin.getSkinElement("display",e+"Over")!==undefined?(o.display_icon.onmouseover=function(t){o.display_icon.style.backgroundImage=["url(",s.skin.getSkinElement("display",e+"Over").src,")"].join("")},o.display_icon.onmouseout=function(t){o.display_icon.style.backgroundImage=["url(",s.skin.getSkinElement("display",e).src,")"].join("")}):(o.display_icon.onmouseover=null,o.display_icon.onmouseout=null)}function N(){_hide(o.display_icon),_hide(o.display_iconBackground)}function C(e){d=!0,N(),o.display_text.innerHTML=e.error,_show(o.display_text),o.display_text.style.top=(f-o.display_text.getBoundingClientRect().height)/2+"px"}function k(){var e=o.display_image;o.display_image=E("img","display_image"),o.display_image.onerror=function(e){_hide(o.display_image)},o.display_image.onload=b,o.display.replaceChild(o.display_image,e)}function L(t){(t.type==e.api.events.JWPLAYER_PLAYER_STATE||t.type==e.api.events.JWPLAYER_PLAYLIST_ITEM)&&d&&(d=!1,_hide(o.display_text)),p!==undefined&&(clearInterval(p),p=null,e.utils.animations.rotate(o.display_icon,0));switch(s.jwGetState()){case e.api.events.state.BUFFERING:T("bufferIcon"),h=0,p=setInterval(function(){h+=v,e.utils.animations.rotate(o.display_icon,h%360)},m),T("bufferIcon");break;case e.api.events.state.PAUSED:s.jwGetPlaylist()[s.jwGetItem()].provider!="sound"&&_css(o.display_image,{background:"transparent no-repeat center center"}),T("playIcon");break;case e.api.events.state.IDLE:s.jwGetPlaylist()[s.jwGetItem()].image?(_css(o.display_image,{display:"block"}),o.display_image.src=e.utils.getAbsolutePath(s.jwGetPlaylist()[s.jwGetItem()].image)):k(),T("playIcon");break;default:s.jwGetMute()&&i.showmute?(s.jwGetPlaylist()[s.jwGetItem()].provider!="sound"&&k(),T("muteIcon")):(s.jwGetPlaylist()[s.jwGetItem()].provider!="sound"&&k(),_hide(o.display_iconBackground),_hide(o.display_icon))}}var r={icons:!0},i=e.utils.extend({},r,n),s=t,o={},u,f,l,c,h,p,d,v=s.skin.getComponentSettings("display").bufferrotation===undefined?15:parseInt(s.skin.getComponentSettings("display").bufferrotation,10),m=s.skin.getComponentSettings("display").bufferinterval===undefined?100:parseInt(s.skin.getComponentSettings("display").bufferinterval,10),g={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:x},display_icon:{style:{cursor:"pointer",position:"absolute",top:(s.skin.getSkinElement("display","background").height-s.skin.getSkinElement("display","playIcon").height)/2,left:(s.skin.getSkinElement("display","background").width-s.skin.getSkinElement("display","playIcon").width)/2,border:0,margin:0,padding:0,zIndex:3}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:(f-s.skin.getSkinElement("display","background").height)/2,left:(u-s.skin.getSkinElement("display","background").width)/2,border:0,backgroundImage:["url(",s.skin.getSkinElement("display","background").src,")"].join(""),width:s.skin.getSkinElement("display","background").width,height:s.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2}},display_image:{style:{display:"none",width:u,height:f,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};return s.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,L),s.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_MUTE,L),s.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,L),s.jwAddEventListener(e.api.events.JWPLAYER_ERROR,C),y(),this.getDisplayElement=function(){return o.display},this.resize=function(e,t){u=e,f=t,_css(o.display,{width:e,height:t}),_css(o.display_text,{width:e-10,top:(f-o.display_text.getBoundingClientRect().height)/2}),_css(o.display_iconBackground,{top:(f-s.skin.getSkinElement("display","background").height)/2,left:(u-s.skin.getSkinElement("display","background").width)/2}),w(),L({})},this.show=function(){_show(o.display_icon),_show(o.display_iconBackground)},this.hide=function(){N()},this}}(jwplayer),function(e){_css=e.utils.css,e.html5.dock=function(t,n){function r(){return{align:e.html5.view.positions.RIGHT}}function c(n,r){u=n,f=r;if(o.length>0){var l=10,c=n-t.skin.getSkinElement("dock","button").width-l,p=l,v=-1;i.align==e.html5.view.positions.LEFT&&(v=1,c=l);for(var m=0;m<o.length;m++){var y=Math.floor(p/r);p+t.skin.getSkinElement("dock","button").height+l>(y+1)*r&&(p=(y+1)*r+l,y=Math.floor(p/r)),s[o[m]].div.style.top=p%r+"px",s[o[m]].div.style.left=c+(t.skin.getSkinElement("dock","button").width+l)*y*v+"px",p+=t.skin.getSkinElement("dock","button").height+l}}}var i=e.utils.extend({},r(),n);if(i.align=="FALSE")return;var s={},o=[],u,f,l=document.createElement("div");return l.id=t.id+"_jwplayer_dock",this.getDisplayElement=function(){return l},this.setButton=function(n,r,i,p){!r&&s[n]?(e.utils.arrays.remove(o,n),l.removeChild(s[n].div),delete s[n]):r&&(s[n]||(s[n]={}),s[n].handler=r,s[n].outGraphic=i,s[n].overGraphic=p,s[n].div||(o.push(n),s[n].div=document.createElement("div"),s[n].div.style.position="relative",l.appendChild(s[n].div),s[n].div.appendChild(document.createElement("img")),s[n].div.childNodes[0].style.position="absolute",s[n].div.childNodes[0].style.left=0,s[n].div.childNodes[0].style.top=0,s[n].div.childNodes[0].style.zIndex=10,s[n].div.childNodes[0].style.cursor="pointer",s[n].div.appendChild(document.createElement("img")),s[n].div.childNodes[1].style.position="absolute",s[n].div.childNodes[1].style.left=0,s[n].div.childNodes[1].style.top=0,t.skin.getSkinElement("dock","button")&&(s[n].div.childNodes[1].src=t.skin.getSkinElement("dock","button").src),s[n].div.childNodes[1].style.zIndex=9,s[n].div.childNodes[1].style.cursor="pointer",s[n].div.onmouseover=function(){s[n].overGraphic&&(s[n].div.childNodes[0].src=s[n].overGraphic),t.skin.getSkinElement("dock","buttonOver")&&(s[n].div.childNodes[1].src=t.skin.getSkinElement("dock","buttonOver").src)},s[n].div.onmouseout=function(){s[n].outGraphic&&(s[n].div.childNodes[0].src=s[n].outGraphic),t.skin.getSkinElement("dock","button")&&(s[n].div.childNodes[1].src=t.skin.getSkinElement("dock","button").src)},s[n].overGraphic&&(s[n].div.childNodes[0].src=s[n].overGraphic),s[n].outGraphic&&(s[n].div.childNodes[0].src=s[n].outGraphic),t.skin.getSkinElement("dock","button")&&(s[n].div.childNodes[1].src=t.skin.getSkinElement("dock","button").src)),r&&(s[n].div.onclick=function(r){r.preventDefault(),e(t.id).callback(n),s[n].overGraphic&&(s[n].div.childNodes[0].src=s[n].overGraphic),t.skin.getSkinElement("dock","button")&&(s[n].div.childNodes[1].src=t.skin.getSkinElement("dock","button").src)})),c(u,f)},this.resize=c,this.show=function(){_css(l,{display:"block"})},this.hide=function(){_css(l,{display:"none"})},this}}(jwplayer),function(e){e.html5.eventdispatcher=function(t,n){var r=new e.events.eventdispatcher(n);e.utils.extend(this,r),this.sendEvent=function(n,i){i===undefined&&(i={}),e.utils.extend(i,{id:t,version:e.version,type:n}),r.sendEvent(n,i)}}}(jwplayer),function(e){var t={prefix:"http://l.longtailvideo.com/html5/",file:"logo.png",link:"http://www.longtailvideo.com/players/jw-flv-player/",margin:8,out:.5,over:1,timeout:3,hide:!0,position:"bottom-left"};_css=e.utils.css,e.html5.logo=function(n,r){function f(){l(),c(),h()}function l(){if(t.prefix){var i=n.version.split(/\W/).splice(0,2).join("/");t.prefix.indexOf(i)<0&&(t.prefix+=i+"/")}r.position==e.html5.view.positions.OVER&&(r.position=t.position),o=e.utils.extend({},t)}function c(){u=document.createElement("img"),u.id=i.id+"_jwplayer_logo",u.style.display="none",u.onload=function(t){_css(u,m()),i.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,w),d()};if(!o.file)return;o.file.indexOf("http://")===0?u.src=o.file:u.src=o.prefix+o.file}function h(){o.link?(u.onmouseover=v,u.onmouseout=d,u.onclick=p):this.mouseEnabled=!1}function p(e){typeof e!="undefined"&&e.stopPropagation(),i.jwPause(),i.jwSetFullscreen(!1),o.link&&window.open(o.link,"_blank");return}function d(e){o.link&&(u.style.opacity=o.out);return}function v(e){o.hide&&(u.style.opacity=o.over);return}function m(){var e={textDecoration:"none",position:"absolute",cursor:"pointer"};e.display=o.hide?"none":"block";var t=o.position.toLowerCase().split("-");for(var n in t)e[t[n]]=o.margin;return e}function g(){o.hide&&(u.style.display="block",u.style.opacity=0,e.utils.fadeTo(u,o.out,.1,parseFloat(u.style.opacity)),s=setTimeout(function(){y()},o.timeout*1e3))}function y(){o.hide&&e.utils.fadeTo(u,0,.1,parseFloat(u.style.opacity))}function w(t){t.newstate==e.api.events.state.BUFFERING&&(clearTimeout(s),g())}var i=n,s,o,u;f();if(!o.file)return;return this.resize=function(e,t){},this.getDisplayElement=function(){return u},this}}(jwplayer),function(e){var t={ended:e.api.events.state.IDLE,playing:e.api.events.state.PLAYING,pause:e.api.events.state.PAUSED,buffering:e.api.events.state.BUFFERING},n=e.utils.css;e.html5.mediavideo=function(r,i){function N(){return p}function C(e){}function k(e){}function L(e){t[e.type]&&A(t[e.type])}function A(t){if(T)return;v&&(t=e.api.events.state.IDLE);if(t==e.api.events.state.PAUSED&&p==e.api.events.state.IDLE)return;if(t==e.api.events.state.PLAYING&&p==e.api.events.state.IDLE){A(e.api.events.state.BUFFERING),o.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:u.buffer}),_();return}if(p!=t){var n=p;u.state=t,p=t;var r=!1;t==e.api.events.state.IDLE&&(B(),u.position>=u.duration&&(u.position>0||u.duration>0)&&(r=!0),f.style.display!="none"&&!u.config.chromeless&&(f.style.display="none")),o.sendEvent(e.api.events.JWPLAYER_PLAYER_STATE,{oldstate:n,newstate:t}),r&&o.sendEvent(e.api.events.JWPLAYER_MEDIA_COMPLETE)}v=!1}function O(t){var n={height:t.target.videoHeight,width:t.target.videoWidth,duration:Math.round(t.target.duration*10)/10};if(u.duration===0||isNaN(u.duration))u.duration=Math.round(t.target.duration*10)/10;u.playlist[u.item]=e.utils.extend(u.playlist[u.item],n),o.sendEvent(e.api.events.JWPLAYER_MEDIA_META,{metadata:n})}function M(t){if(v)return;if(t!==undefined&&t.target!==undefined){if(u.duration===0||isNaN(u.duration))u.duration=Math.round(t.target.duration*10)/10;!g&&f.readyState>0&&A(e.api.events.state.PLAYING);if(p==e.api.events.state.PLAYING){if(!g&&f.readyState>0){g=!0;try{f.currentTime=u.playlist[u.item].start}catch(n){}f.volume=u.volume/100,f.muted=u.mute}u.position=Math.round(t.target.currentTime*10)/10,o.sendEvent(e.api.events.JWPLAYER_MEDIA_TIME,{position:t.target.currentTime,duration:t.target.duration})}}P(t)}function _(){l===!1&&p==e.api.events.state.BUFFERING&&(o.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL),l=!0)}function D(){var e=(S[S.length-1]-S[0])/S.length;x=setTimeout(function(){h||P({lengthComputable:!0,loaded:1,total:1})},e*10)}function P(t){var n,r;t!==undefined&&t.lengthComputable&&t.total?(q(),n=t.loaded/t.total*100,r=n/100*(u.duration-f.currentTime),50<n&&!h&&(clearTimeout(x),D())):f.buffered!==undefined&&f.buffered.length>0&&(maxBufferIndex=0,maxBufferIndex>=0&&(n=f.buffered.end(maxBufferIndex)/f.duration*100,r=f.buffered.end(maxBufferIndex)-f.currentTime)),_(),h||(n==100&&h===!1&&(h=!0),n!==null&&n>u.buffer&&(u.buffer=Math.round(n),o.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(n)})))}function H(){d===null&&(d=setInterval(function(){M()},100))}function B(){clearInterval(d),d=null}function j(t){var n="There was an error: ";if(t.target.error&&t.target.tagName.toLowerCase()=="video"||t.target.parentNode.error&&t.target.parentNode.tagName.toLowerCase()=="video"){var r=t.target.error===undefined?t.target.parentNode.error:t.target.error;switch(r.code){case r.MEDIA_ERR_ABORTED:n="You aborted the video playback: ";break;case r.MEDIA_ERR_NETWORK:n="A network error caused the video download to fail part-way: ";break;case r.MEDIA_ERR_DECODE:n="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:n="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:n="An unknown error occurred: "}}else{if(t.target.tagName.toLowerCase()!="source"){e.utils.log("Erroneous error received. Continuing...");return}E--;if(E>0)return;n="The video could not be loaded, either because the server or network failed or because the format is not supported: "}I(),n+=F(),T=!0,o.sendEvent(e.api.events.JWPLAYER_ERROR,{error:n});return}function F(){var t="";for(var n in w.levels){var r=w.levels[n],i=f.ownerDocument.createElement("source");t+=e.utils.getAbsolutePath(r.file),n<w.levels.length-1&&(t+=", ")}return t}function I(){f.pause(),f.removeAttribute("src");var t=f.getElementsByTagName("source");for(var n=0;n<t.length;n++)f.removeChild(t[n]);typeof f.load=="function"&&f.load(),B(),u.position=0,v=!0,A(e.api.events.state.IDLE)}function q(){var e=(new Date).getTime();S.push(e)}function R(e){switch(e.provider){case"youtube":z(e);break;default:U(e,document.createElement("video"))}}function U(t,n){u.duration=t.duration,y=!1,w=t,n.preload="none",n.setAttribute("x-webkit-airplay","allow"),T=!1,E=0;for(var r=0;r<t.levels.length;r++){var i=t.levels[r],l,c=e.utils.extension(i.file);i.type===undefined?e.utils.extensionmap[c]!==undefined&&e.utils.extensionmap[c].html5!==undefined&&(l=e.utils.extensionmap[c].html5):l=i.type;if(!l||n.canPlayType(l)||e.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){var h=f.ownerDocument.createElement("source");h.src=e.utils.getAbsolutePath(i.file),l&&!e.utils.isLegacyAndroid()&&(h.type=l),E++,n.appendChild(h)}}E===0&&(T=!0,o.sendEvent(e.api.events.JWPLAYER_ERROR,{error:"The media could not be loaded because the format is not supported by your browser: "+F()})),u.config.chromeless&&(n.poster=e.utils.getAbsolutePath(t.image),n.controls="controls"),n.style.top=f.style.top,n.style.left=f.style.left,n.style.width=f.style.width,n.style.height=f.style.height,n.style.zIndex=f.style.zIndex,n.onload=C,n.volume=0,f.parentNode.replaceChild(n,f),n.id=f.id,f=n;for(var p in s)f.addEventListener(p,function(e){e.target.parentNode!==null&&s[e.type](e)},!0)}function z(e){var t=e.levels[0].file,n=document.createElement("object");t=["http://www.youtube.com/v/",W(t),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");var i={movie:t,allowFullScreen:"true",allowscriptaccess:"always"};for(var s in i){var o=document.createElement("param");o.name=s,o.value=i[s],n.appendChild(o)}var u=document.createElement("embed"),a={src:t,type:"application/x-shockwave-flash",allowscriptaccess:"always",allowfullscreen:"true",width:document.getElementById(r.id).style.width,height:document.getElementById(r.id).style.height};for(var l in a)u[l]=a[l];n.appendChild(u),n.style.position=f.style.position,n.style.top=f.style.top,n.style.left=f.style.left,n.style.width=document.getElementById(r.id).style.width,n.style.height=document.getElementById(r.id).style.height,n.style.zIndex=2147483e3,f.parentNode.replaceChild(n,f),n.id=f.id,f=n,y=!0}function W(e){var t=e.split(/\?|\#\!/),n="";for(var r=0;r<t.length;r++)t[r].substr(0,2)=="v="&&(n=t[r].substr(2));return n==""&&(e.indexOf("/v/")>=0?n=e.substr(e.indexOf("/v/")+3):e.indexOf("youtu.be")>=0?n=e.substr(e.indexOf("youtu.be/")+9):n=e),n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?"))),n.indexOf("&")>-1&&(n=n.substr(0,n.indexOf("&"))),n}var s={abort:k,canplay:L,canplaythrough:L,durationchange:O,emptied:k,ended:L,error:j,loadeddata:O,loadedmetadata:O,loadstart:L,pause:L,play:M,playing:L,progress:P,ratechange:k,seeked:L,seeking:L,stalled:L,suspend:L,timeupdate:M,volumechange:k,waiting:L,canshowcurrentframe:k,dataunavailable:k,empty:k,load:C,loadedfirstframe:k},o=new e.html5.eventdispatcher;e.utils.extend(this,o);var u=r,f=i,l,h,p=e.api.events.state.IDLE,d=null,v,m=0,g=!1,y=!1,w,E,S=[],x,T=!1;return this.getDisplayElement=function(){return f},this.play=function(){p!=e.api.events.state.PLAYING&&(f.style.display!="block"&&(f.style.display="block"),f.play(),H(),l&&A(e.api.events.state.PLAYING))},this.pause=function(){f.pause(),A(e.api.events.state.PAUSED)},this.seek=function(e){u.duration!==0&&!isNaN(u.duration)&&u.position!==0&&!isNaN(u.position)&&(f.currentTime=e,f.play())},this.stop=I,this.volume=function(t){f.volume=t/100,u.volume=t,o.sendEvent(e.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(t)})},this.mute=function(t){f.muted=t,u.mute=t,o.sendEvent(e.api.events.JWPLAYER_MEDIA_MUTE,{mute:t})},this.resize=function(t,r){o.sendEvent(e.api.events.JWPLAYER_MEDIA_RESIZE,{fullscreen:u.fullscreen,width:t,hieght:r})},this.fullscreen=function(e){e===!0?this.resize("100%","100%"):this.resize(u.config.width,u.config.height)},this.load=function(t){R(t),o.sendEvent(e.api.events.JWPLAYER_MEDIA_LOADED),l=!1,h=!1,g=!1,!u.config.chromeless&&!y&&(S=[],q(),A(e.api.events.state.BUFFERING),setTimeout(function(){M()},25))},this.hasChrome=function(){return y},this.embed=R,this}}(jwplayer),function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];jwplayer.html5.model=function(api,container,options){function _getShuffleItem(){var e=null;if(_model.playlist.length>1)while(e===null)e=Math.floor(Math.random()*_model.playlist.length),e==_model.item&&(e=null);else e=0;return e}function forward(e){e.type==jwplayer.api.events.JWPLAYER_MEDIA_LOADED&&(_container=_media.getDisplayElement()),_eventDispatcher.sendEvent(e.type,e)}var _api=api,_container=container,_model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:90,mute:!1,fullscreen:!1,repeat:"none",stretching:jwplayer.utils.stretching.UNIFORM,autostart:!1,debug:undefined,screencolor:undefined}},_media,_eventDispatcher=new jwplayer.html5.eventdispatcher,_components=["display","logo","controlbar","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type)}var config=_model.config,path=option.split(".");for(var edge in path)edge==path.length-1?config[path[edge]]=options[option]:(config[path[edge]]===undefined&&(config[path[edge]]={}),config=config[path[edge]])}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(_model.plugins!==undefined&&typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins)typeof userplugins[userplugin]=="string"&&pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}typeof _model.config.chromeless=="undefined"&&jwplayer.utils.isIOS()&&(_model.config.chromeless=!0);if(_model.config.chromeless){pluginorder=["logo"];if(_model.config.repeat===undefined||_model.config.repeat=="none")_model.config.repeat="list"}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined")for(var component in _model.config.components)_model.plugins.config[component]=_model.config.components[component];for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex],pluginConfig=_model.config[pluginName]===undefined?{}:_model.config[pluginName];_model.plugins.config[pluginName]=_model.plugins.config[pluginName]===undefined?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig),typeof _model.plugins.config[pluginName].position=="undefined"?_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER:_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position}}typeof _model.plugins.config.dock.position!="undefined"&&(_model.plugins.config.dock.align=_model.plugins.config.dock.position,_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER)}return _model.loadPlaylist=function(arg,ready){var input;if(typeof arg=="string")try{input=eval(arg)}catch(err){input=arg}else input=arg;var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input}}_model.playlist=new jwplayer.html5.playlist(config),_model.config.shuffle?_model.item=_getShuffleItem():(_model.config.item>=_model.playlist.length?_model.config.item=_model.playlist.length-1:_model.config.item<0&&(_model.config.item=0),_model.item=_model.config.item),ready||_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist}),_model.setActiveMediaProvider(_model.playlist[_model.item])},_model.setActiveMediaProvider=function(e){return _media!==undefined&&_media.resetEventListeners(),_media=new jwplayer.html5.mediavideo(_model,_container),_media.addGlobalListener(forward),_model.config.chromeless&&_media.load(e),!0},_model.getMedia=function(){return _media},_model.seek=function(e){return _eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:e}),_media.seek(e)},_model.setupPlugins=function(){for(var e in _model.plugins.order)try{var t=_model.plugins.order[e];jwplayer.html5[t]!==undefined?_model.plugins.object[t]=new jwplayer.html5[t](_api,_model.plugins.config[t]):_model.plugins.order.splice(e,e+1)}catch(n){jwplayer.utils.log("Could not setup "+t)}},_model}}(jwplayer),function(e){e.html5.playlist=function(t){var n=[];if(t.playlist&&t.playlist instanceof Array&&t.playlist.length>0)for(var r in t.playlist)isNaN(parseInt(r))||n.push(new e.html5.playlistitem(t.playlist[r]));else n.push(new e.html5.playlistitem(t));return n}}(jwplayer),function(e){function t(t){if(e.utils.isYouTube(t.file))return"youtube";var n=e.utils.extension(t.file),r;n&&e.utils.extensionmap[n]?r=e.utils.extensionmap[n].html5:t.type&&(r=t.type);if(r){var i=r.split("/")[0];if(i=="audio")return"sound";if(i=="video")return i}return""}e.html5.playlistitem=function(n){var r={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]},i=e.utils.extend({},r,n);return i.type&&(i.provider=i.type,delete i.type),i.levels.length===0&&(i.levels[0]=new e.html5.playlistitemlevel(i)),i.provider?i.provider=i.provider.toLowerCase():i.provider=t(i.levels[0]),i}}(jwplayer),function(e){e.html5.playlistitemlevel=function(e){var t={file:"",streamer:"",bitrate:0,width:0};for(var n in t)e[n]!==undefined&&(t[n]=e[n]);return t}}(jwplayer),function(e){e.html5.skin=function(){var t={},n=!1;this.load=function(r,i){new e.html5.skinloader(r,function(e){n=!0,t=e,i()},function(){new e.html5.skinloader("",function(e){n=!0,t=e,i()})})},this.getSkinElement=function(r,i){if(n)try{return t[r].elements[i]}catch(s){e.utils.log("No such skin component / element: ",[r,i])}return null},this.getComponentSettings=function(e){return n?t[e].settings:null},this.getComponentLayout=function(e){return n?t[e].layout:null}}}(jwplayer),function(e){e.html5.skinloader=function(t,n,r){function h(){typeof l!="string"||l===""?p(e.html5.defaultSkin().xml):e.utils.ajax(e.utils.getAbsolutePath(l),function(t){try{if(t.responseXML!==null){p(t.responseXML);return}}catch(n){}p(e.html5.defaultSkin().xml)},function(t){p(e.html5.defaultSkin().xml)})}function p(t){var n=t.getElementsByTagName("component");if(n.length===0)return;for(var r=0;r<n.length;r++){var s=n[r].getAttribute("name"),o={settings:{},elements:{},layout:{}};i[s]=o;var f=n[r].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var l=0;l<f.length;l++)v(f[l],s);var c=n[r].getElementsByTagName("settings")[0];if(c!==undefined&&c.childNodes.length>0){var h=c.getElementsByTagName("setting");for(var p=0;p<h.length;p++){var m=h[p].getAttribute("name"),g=h[p].getAttribute("value"),y=/color$/.test(m)?"color":null;i[s].settings[m]=e.utils.typechecker(g,y)}}var w=n[r].getElementsByTagName("layout")[0];if(w!==undefined&&w.childNodes.length>0){var E=w.getElementsByTagName("group");for(var S=0;S<E.length;S++){var x=E[S];i[s].layout[x.getAttribute("position")]={elements:[]};for(var T=0;T<x.attributes.length;T++){var N=x.attributes[T];i[s].layout[x.getAttribute("position")][N.name]=N.value}var C=x.getElementsByTagName("*");for(var k=0;k<C.length;k++){var L=C[k];i[s].layout[x.getAttribute("position")].elements.push({type:L.tagName});for(var A=0;A<L.attributes.length;A++){var O=L.attributes[A];i[s].layout[x.getAttribute("position")].elements[k][O.name]=O.value}i[s].layout[x.getAttribute("position")].elements[k].name===undefined&&(i[s].layout[x.getAttribute("position")].elements[k].name=L.tagName)}}}u=!1,d()}}function d(){clearInterval(f),c||(f=setInterval(function(){m()},100))}function v(t,n){var r=new Image,s=t.getAttribute("name"),u=t.getAttribute("src"),f;if(u.indexOf("data:image/png;base64,")===0)f=u;else{var h=e.utils.getAbsolutePath(l),p=h.substr(0,h.lastIndexOf("/"));f=[p,n,u].join("/")}i[n].elements[s]={height:0,width:0,src:"",ready:!1},r.onload=function(e){g(r,s,n)},r.onerror=function(e){c=!0,d(),o()},r.src=f}function m(){for(var e in i)if(e!="properties")for(var t in i[e].elements)if(!i[e].elements[t].ready)return;u===!1&&(clearInterval(f),s(i))}function g(e,t,n){i[n].elements[t].height=e.height,i[n].elements[t].width=e.width,i[n].elements[t].src=e.src,i[n].elements[t].ready=!0,d()}var i={},s=n,o=r,u=!0,f,l=t,c=!1;h()}}(jwplayer),function(e){e.html5.api=function(t,n){function f(){s.state==e.api.events.state.PLAYING||s.state==e.api.events.state.BUFFERING?u.pause():u.play()}function l(e){return function(){return s[e]}}function c(e,t,n){return function(){var r=s.plugins.object[e];r&&r[t]&&typeof r[t]=="function"&&r[t].apply(r,n)}}function h(t,n,i){return function(){t.loadPlaylist(t.config,!0),t.setupPlugins(),n.setup(t.getMedia().getDisplayElement());var s={id:r.id,version:r.version};i.sendEvent(e.api.events.JWPLAYER_READY,s),playerReady!==undefined&&playerReady(s),window[t.config.playerReady]!==undefined&&window[t.config.playerReady](s),t.sendEvent(e.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:t.playlist}),i.item(t.item)}}var r={},i=document.createElement("div");t.parentNode.replaceChild(i,t),i.id=t.id,r.version=e.version,r.id=i.id;var s=new e.html5.model(r,i,n),o=new e.html5.view(r,i,s),u=new e.html5.controller(r,i,s,o);return r.skin=new e.html5.skin,r.jwPlay=function(e){typeof e=="undefined"?f():e.toString().toLowerCase()=="true"?u.play():u.pause()},r.jwPause=function(e){typeof e=="undefined"?f():e.toString().toLowerCase()=="true"?u.pause():u.play()},r.jwStop=u.stop,r.jwSeek=u.seek,r.jwPlaylistItem=u.item,r.jwPlaylistNext=u.next,r.jwPlaylistPrev=u.prev,r.jwResize=u.resize,r.jwLoad=u.load,r.jwGetItem=l("item"),r.jwGetPosition=l("position"),r.jwGetDuration=l("duration"),r.jwGetBuffer=l("buffer"),r.jwGetWidth=l("width"),r.jwGetHeight=l("height"),r.jwGetFullscreen=l("fullscreen"),r.jwSetFullscreen=u.setFullscreen,r.jwGetVolume=l("volume"),r.jwSetVolume=u.setVolume,r.jwGetMute=l("mute"),r.jwSetMute=u.setMute,r.jwGetStretching=l("stretching"),r.jwGetState=l("state"),r.jwGetVersion=function(){return r.version},r.jwGetPlaylist=function(){return s.playlist},r.jwGetPlaylistIndex=r.jwGetItem,r.jwAddEventListener=u.addEventListener,r.jwRemoveEventListener=u.removeEventListener,r.jwSendEvent=u.sendEvent,r.jwDockSetButton=function(e,t,n,r){s.plugins.object.dock&&s.plugins.object.dock.setButton&&s.plugins.object.dock.setButton(e,t,n,r)},r.jwShowControlbar=c("controlbar","show"),r.jwHideControlbar=c("controlbar","hide"),r.jwShowDock=c("dock","show"),r.jwHideDock=c("dock","hide"),r.jwShowDisplay=c("display","show"),r.jwHideDisplay=c("display","hide"),r.jwGetLevel=function(){},r.jwGetBandwidth=function(){},r.jwGetLockState=function(){},r.jwLock=function(){},r.jwUnlock=function(){},s.config.chromeless?setTimeout(h(s,o,u),25):r.skin.load(s.config.skin,h(s,o,u)),r}}(jwplayer)}Title.prototype.getName=function(){return this.name},Image.prototype.load=function(e){var t=e.find("img"),n=function(){$(this).error(function(){}),$(this).attr("src",s)};for(var r=0;r<t.length;r++){var i=$(t[r]),s=i.attr("src"),o=i.attr("data-src");o!=null&&(i.error(n),i.attr("src",o))}},Channels.prototype.getCleanName=function(e){return this.channels[e]},Date.prototype.getFormattedTime=function(){return formatTimeComponent(this.getHours())+":"+formatTimeComponent(this.getMinutes())},Date.prototype.getFormattedHour=function(){return formatTimeComponent(this.getHours())+":00"},Date.parseJsonDate=function(e){var t=(new Date).getTimezoneOffset()*6e4,n=/\/Date\((-?\d+)([+\-]\d{2})?(\d{2})?.*/.exec(e);return n[2]===undefined&&(n[2]=0),n[3]===undefined&&(n[3]=0),new Date(+n[1]+t+n[2]*36e5+n[3]*6e4)},Date.parseXmlDate=function(e){var t=/^([0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]+)?(Z|([+\-])([0-9]{2}):([0-9]{2}))?$/,n=e.match(t);if(!n)return null;var r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],f=n[6],l=n[7],c=n[8],h=n[9],p=n[10],d=n[11];return new Date(i,s,o,u,a,f,l||0)},Watcher.prototype.loadWatcherCount=function(e,t){$.get("api/watchers.php?channel="+t+"&ts="+(new Date).getTime(),function(t){$(e).find("#"+t.channel).find(".watchers").html(t.count)})},Watcher.prototype.watching=function(e){$.get("api/watchers.php?channel="+e+"&update=t&ts="+(new Date).getTime(),function(e){})},Epg.prototype.loadGuide=function(e,t){var n=(new Date).getTime();if(n-this.EPG_UPDATE_INTERVAL_IN_MILLIS<this.lastEpgUpdate)return;var r=this;$.getJSON("http://www.dr.dk/nu/api/nownext?ts="+n+"&callback=?",function(n){$(e).empty();var i=new Date,s=new Date(i.getTime()+36e5);$(e).append('<div id="title">'+i.getFormattedHour()+" - "+s.getFormattedHour()+"</div>");var o=n.channels;for(var u=0;u<o.length;u++){var a=o[u],f='<img src="images/'+r.channels.getCleanName(u)+'.png" alt="'+a.channel+'" />',l="Ingen udsendelse pt";a.current!=null&&a.current.programTitle!=null&&(l=a.current.programTitle);var c="";if(a.next!=null&&a.next.programTitle!=null){var h=(a.next.startTS-a.next.currentServerTimeTS)/1e3/60;c='<span class="next_title">'+a.next.programTitle+"</span> starter om "+Math.round(h)+" min."}var p=u===t?"active":"";$(e).append('<div id="'+u+'" class="item '+p+'"><div class="channel">'+f+'</div><div class="description"><div class="now">'+l+'</div><div class="next">'+c+'</div></div><div class="watchers">0</div></div>')}r.lastEpgUpdate=(new Date).getTime(),r.watcher.loadWatcherCount(e,t)}).error(function(){$(e).empty(),$(e).append('<div id="error">Problem med TV guiden!</div>')})},Epg.prototype.loadChannelInfo=function(e,t){var n=this.channels.getCleanName(t),r=(new Date).getTime();$.getJSON("http://www.dr.dk/nu/api/nownext?ts="+r+"&callback=?",function(r){var i=t,s=r.channels[i],o="Ingen udsendelse pt",u="",a="",f="";s!=null&&(s.current!=null?(s.current.programTitle!=null&&(o=s.current.programTitle),s.current.description!=null&&(u=s.current.description),a=Date.parseXmlDate(s.current.start),f=Date.parseXmlDate(s.current.end)):s.next!=null&&(s.next.programTitle!=null&&(o=s.next.programTitle),s.next.description!=null&&(u=s.next.description),a=Date.parseXmlDate(s.next.start),f=Date.parseXmlDate(s.next.end)));var l=a.getFormattedTime()+" - "+f.getFormattedTime(),c='<div class="channel"><img src="images/'+n+'.gif" alt="'+o+'" /></div>',h='<div class="time">'+l+"</div>",p='<div class="title">'+o+"</div>",d='<div class="summary">'+u+"</div>",v='<div class="icons"></div>';$(e).empty(),$(e).append(c+h+p+d+v)}).error(function(){console.log("ERROR")})},Epg.prototype.getActiveShow=function(e,t){var n=(new Date).getTime();$.getJSON("http://www.dr.dk/nu/api/nownext?ts="+n+"&callback=?",function(n){var r=n.channels[e],i="Ingen udsendelse";r!=null&&(r.current!=null?i=r.current.programTitle:r.next!=null&&(i=r.next.programTitle));var s=(new Title(i)).getName();t(s)})},Player.prototype.play=function(e){if(e.videoId!==undefined){var t=this;$.get("api/video.php?id="+e.videoId,function(e){var n=e.url.indexOf("mp4:"),r=e.url.substring(0,n-1),i=e.url.substring(n),s=new Date,o=new Date(s),u=e.duration.split(":");o.setHours(s.getHours()+parseInt(u[0],10)),o.setMinutes(s.getMinutes()+parseInt(u[1],10)),o.setSeconds(s.getSeconds()+parseInt(u[2],10)),t.state.lastSearchTerm=(new Title(e.title)).getName(),t.activeItem={type:"video",file:i,streamer:r,title:e.title,description:e.description,startTime:s,endTime:o,icon:""},t.state.currentChannelIdx=-1,jwplayer().load({file:t.activeItem.file,streamer:t.activeItem.streamer,provider:"rtmp"})}).error(function(){console.log("ERROR")})}else if(e.channel!==undefined){var n=e.channel;this.activeItem.channel=n,this.activeItem.idx=e.idx,this.activeItem.type="channel",jwplayer().load("playlists/"+n+".xml")}},Player.prototype.next=function(){jwplayer().playlistNext()},Player.prototype.previous=function(){jwplayer().playlistPrev()},Player.prototype.getItem=function(e){if(this.activeItem.type==="channel"){var t=this,n=(new Date).getTime();$.getJSON("http://www.dr.dk/nu/api/nownext?ts="+n+"&callback=?",function(n){var r=t.activeItem.channel,i=t.activeItem.idx,s=n.channels[i],o="Ingen udsendelse pt",u="",a="",f="";s!=null&&(s.current!=null?(s.current.programTitle!=null&&(o=s.current.programTitle),s.current.description!=null&&(u=s.current.description),a=Date.parseXmlDate(s.current.start),f=Date.parseXmlDate(s.current.end)):s.next!=null&&(s.next.programTitle!=null&&(o=s.next.programTitle),s.next.description!=null&&(u=s.next.description),a=Date.parseXmlDate(s.next.start),f=Date.parseXmlDate(s.next.end))),t.activeItem={type:"channel",title:o,description:u,startTime:a,endTime:f,icon:"images/"+r+".gif"},e(t.activeItem)}).error(function(){console.log("ERROR")})}else e(this.activeItem)},Player.prototype.getState=function(e){e(this.state)},$.ajaxSetup({timeout:5e3});var playlists=["dr1","dr2","ramasjang","drk","drupdate","drhd"],dialog={showQuitDialog:function(){boxeeAPI.promptDialog("Afslut?","Er du sikker på, at du vil afslutte DR Live TV?",function(e){e&&boxeeAPI.closeApp()})}};window.console||(console={}),$(function(){function a(){boxee.onKeyboardKeyLeft=function(){browser.keyPress(browser.KEY_LEFT)},boxee.onKeyboardKeyRight=function(){browser.keyPress(browser.KEY_RIGHT)},boxee.onKeyboardKeyUp=function(){browser.keyPress(browser.KEY_UP)},boxee.onKeyboardKeyDown=function(){browser.keyPress(browser.KEY_DOWN)},boxee.onKeyboardKeyEnter=function(){browser.keyPress(browser.KEY_RETURN)},boxee.onKeyboardKeyBack=function(){browser.keyPress(browser.KEY_ESCAPE)}}function f(){s.watching(e)}function l(){if(e<0){h(r);return}o.getActiveShow(e,h)}function c(){var e=$("#search .search_elem.selected"),t=e.val();e.is("div")&&(t=e.html());if($.trim(t)==="")return;var n=$.cookie("boxee_dr_live_tv_prev_search");n===null||n===""?n=[]:n=n.split(",");var r=n.unshift(t);while(r>4)n.pop(),r=n.length;$.cookie("boxee_dr_live_tv_prev_search",n,{expires:365}),g(),h(t)}function h(e){var t=encodeURIComponent(e).replace(/\+/g,"%20");$.getJSON("http://www.dr.dk/nu/api/search/"+t+"?callback=?",function(t){r=e,d(t)})}function p(e){var t="";if(e===undefined){var n=$("#videos_menu").find(".selected"),r=n.children(".cmd");if(r===null||r.length===0)return;var i=r.html();t="api/"+i+".php?ts="+(new Date).getTime()}else t="api/"+e+"?ts="+(new Date).getTime();$.get(t,function(e){d(e)})}function d(e){n=0,$("#video_menu_inactive").remove(),$("#videos").remove(),$("#videos_spacer").remove();var t=$('<div id="videos" />');e.length===0&&t.append('<div class="error">Ingen videoer fundet</div>');for(var r=0;r<e.length;r++){var i=e[r],s=$('<div class="video" />');r===0&&s.addClass("selected");var o=i.title,u=null,a=null;i.id===undefined?(a=$('<div class="thumb"><img src="images/default_video.png" data-src="api/imageproxy.php/programseries/'+i.slug+'/images/200x150.jpg" alt="" /></div>'),u=i.slug):(a=$('<div class="thumb"><img src="images/default_video.png" data-src="api/imageproxy.php/videos/'+i.id+'/images/200x150.jpg" alt="" /></div>'),u=i.programSerieSlug);var f=$('<div class="favorite"><img src="images/buttons/graphic-check-54px.png" alt="" /></div>');M(o,u)||f.hide(),s.append(f),s.append(a),s.append('<div class="title">'+i.title+"</div>"),i.id!==undefined&&s.append('<div style="display:none;" class="video_id">'+i.id+"</div>"),s.append('<div style="display:none;" class="video_slug">'+u+"</div>"),r>4?s.hide():(new Image).load(a),t.append(s)}$("body").append('<div id="video_menu_inactive">Press Up for Menu</div>'),$("body").append(t),$("body").append('<div id="videos_spacer" />'),y()}function v(){var e=new Date;$("#clock").remove(),$("body").append('<div id="clock"></div>'),$("#clock").append('<span class="icon clock"></span>'),$("#clock").append(e.getFormattedTime())}function m(){$("body").append('<div id="search"><input name="search_field" id="search_field" class="search_elem selected" /></div>'),$("#search_field").focus(),$("#search").append("<hr/>");var e=$.cookie("boxee_dr_live_tv_prev_search");if(e!=null){e=e.split(",");for(var t=0;t<e.length&&t<4;t++)$("#search").append('<div class="search_elem prev_search">'+e[t]+"</div>")}}function g(){$("#search").remove()}function y(){$("#video_menu_inactive").show()}function b(){E(!0),$("#video_menu_inactive").hide(),$("#videos_spacer").hide(),$("#videos").hide(),n=0}function w(){$("#video_menu_inactive").hide(),$("#videos").find(".video").removeClass("selected");if($("#videos_menu").length===0){var e=$('<div id="videos_menu"></div>');e.append('<div class="menu selected"><span class="icon new"></span><span class="title">Nyeste</span><div style="display:none;" class="cmd">newest</div></div>'),e.append('<div class="menu"><span class="icon popular"></span><span class="title">Mest Populære</span><div style="display:none;" class="cmd">mostviewed</div></div>'),e.append('<div class="menu"><span class="icon favorite"></span><span class="title">Favoritter</span><div style="display:none;" class="cmd">favorites</div></div>'),e.append('<div class="menu"><span class="icon all"></span><span class="title">Alle Programmer</span><div style="display:none;" class="cmd">programs</div></div>'),$("body").append(e)}else $("#videos_menu").show()}function E(e){e=typeof e!="undefined"?e:!1,e?$("#videos_menu").remove():$("#videos_menu").hide(),$("#video_menu_inactive").show()}function S(){I(e),N(),o.loadGuide("#menu",e),$("#menu_spacer").show(),$("#menu").show()}function x(){$("#menu_spacer").hide(),$("#menu").hide()}function T(){x(),o.loadChannelInfo("#description",t),$("#description").show()}function N(){$("#description").hide()}function C(){v(),$("#clock").show()}function k(){$("#clock").hide()}function L(){if(e===t)return;V!=null&&clearInterval(V);var n=$(".active")[0],r=n.id;e=r,setInterval(f,i);var s=playlists[r];u.play({channel:s,idx:r})}function A(){var e=$("#videos").find(".selected"),t=e.children(".video_id");if(t.length===0){var n=e.children(".video_slug"),r=n.html();return p("programs.php/"+r+"/videos"),!1}var i=t.html();return u.play({videoId:i}),!0}function O(){var e=$("#videos").find(".selected"),t=e.children(".video_slug");if(t.length===0)return;var n=e.children(".title").html(),r=t.html();M(n,r)?(P(n,r),e.find(".favorite").hide()):(D(n,r),e.find(".favorite").show())}function M(e,t){return $.inArray(e+":::"+t,_())>-1}function _(){var e=$.cookie("boxee_dr_live_tv_favorites");return e!==null?e.split(","):[]}function D(e,t){var n=_();n.push(e+":::"+t),$.cookie("boxee_dr_live_tv_favorites",n,{expires:1500})}function P(e,t){var n=_(),r=n.indexOf(e+":::"+t);if(r<0)return;n.splice(r,1),$.cookie("boxee_dr_live_tv_favorites",n,{expires:1500})}function H(e){var t=document.getElementsByClassName("active")[0],n=-1;t!==null&&(n=t.id);if(n===0&&e<0||n===playlists.length-1&&e>0)return;var r=parseInt(n,10)+parseInt(e,10);I(r)}function B(e){var t=$("#videos").children();for(var r=0;r<t.length;r++){var i=$(t[r]);if(i.hasClass("selected")){if(r===0&&e<0)return;if(r+e>=t.length)return;r>=n+4&&e>0&&($(t[n]).hide(),$(t[r+1]).show(),(new Image).load($(t[r+1])),n++),r<=n&&e<0&&($(t[r-1]).show(),$(t[n+4]).hide(),n--),i.removeClass("selected"),$(t[r+e]).addClass("selected");break}}$("#videos").find(".selected").length===0&&t.length>0&&$(t[0]).addClass("selected")}function j(e){var t=$("#videos_menu").children();for(var n=0;n<t.length;n++){var r=$(t[n]);if(r.hasClass("selected")){if(n===0&&e<0)return;if(n+e>=t.length)return;r.removeClass("selected"),$(t[n+e]).addClass("selected");break}}}function F(e){var t=$("#search .search_elem");for(var r=0;r<t.length;r++){var i=$(t[r]);if(i.hasClass("selected")){if(r===0&&e<0)return;if(r+e>=t.length)return;r>=n+4&&e>0&&($(t[n]).hide(),$(t[r+1]).show(),n++),r<=n&&e<0&&($(t[r-1]).show(),$(t[n+4]).hide(),n--),i.removeClass("selected"),$(t[r+e]).addClass("selected");break}}}function I(e){var n=$("#menu").find(".active");n.removeClass("active"),$("#"+e).addClass("active"),t=e,s.loadWatcherCount("#menu",t)}function q(){if($("#description").is(":visible"))N(),k();else if($("#videos_menu").is(":visible"))p(),E();else if($("#videos").is(":visible")){var e=A();e&&b()}else $("#menu").is(":visible")?(L(),x(),k()):$("#search").is(":visible")?c():(S(),C())}function R(){$("#description").is(":visible")?(N(),k()):$("#menu").is(":visible")?(x(),k()):$("#videos").is(":visible")?b():$("#search").is(":visible")?g():dialog.showQuitDialog()}function U(){$("#description").is(":visible")||($("#videos_menu").is(":visible")?j(1):$("#videos").is(":visible")?B(1):$("#menu").is(":visible")?(T(),C()):$("#search").is(":visible")||u.next())}function z(){$("#description").is(":visible")?(S(),C()):$("#videos_menu").is(":visible")?j(-1):$("#videos").is(":visible")?B(-1):$("#menu").is(":visible")||$("#search").is(":visible")||u.previous()}function W(){$("#description").is(":visible")?(N(),k()):$("#videos").is(":visible")?w():$("#menu").is(":visible")?H(-1):$("#search").is(":visible")?F(-1):(I(e),T(),C())}function X(){$("#description").is(":visible")?(N(),k()):$("#videos_menu").is(":visible")?E():$("#videos").is(":visible")?O():$("#menu").is(":visible")?H(1):$("#search").is(":visible")?F(1):l()}boxeeAPI.keyboardMode();var e=0,t=e,n=0,r="",i=3e4,s=new Watcher,o=new Epg(s),u=new Player;boxee.exec(a),boxee.exec("setupPlayer()"),$(document).keydown(function(e){var t=e.keyCode?e.keyCode:e.which;switch(t){case 13:q();break;case 27:R();break;case 37:z();break;case 38:W();break;case 39:U();break;case 40:X();break;default:}}),S(),C(),f();var V=setInterval(f,i)});